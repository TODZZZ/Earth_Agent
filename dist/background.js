chrome.runtime.onInstalled.addListener(e=>{console.log("Earth Agent installed",e),chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch(n=>console.error("Error setting panel behavior:",n))});chrome.action.onClicked.addListener(e=>{e!=null&&e.windowId&&chrome.sidePanel.open({windowId:e.windowId}).catch(n=>console.error("Error opening side panel:",n))});chrome.runtime.onMessage.addListener((e,n,o)=>(console.log("Background received message:",e,"from:",n),e.type==="TEST_CONNECTION"&&o({success:!0,message:"Background connection successful"}),!0));console.log("Earth Agent background script loaded");
