(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function mg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tf={exports:{}},Hi={},Nf={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=Symbol.for("react.element"),gg=Symbol.for("react.portal"),yg=Symbol.for("react.fragment"),vg=Symbol.for("react.strict_mode"),_g=Symbol.for("react.profiler"),wg=Symbol.for("react.provider"),xg=Symbol.for("react.context"),Sg=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Eg=Symbol.for("react.memo"),Cg=Symbol.for("react.lazy"),Zc=Symbol.iterator;function Ag(t){return t===null||typeof t!="object"?null:(t=Zc&&t[Zc]||t["@@iterator"],typeof t=="function"?t:null)}var bf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Of=Object.assign,$f={};function Vr(t,e,n){this.props=t,this.context=e,this.refs=$f,this.updater=n||bf}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lf(){}Lf.prototype=Vr.prototype;function yu(t,e,n){this.props=t,this.context=e,this.refs=$f,this.updater=n||bf}var vu=yu.prototype=new Lf;vu.constructor=yu;Of(vu,Vr.prototype);vu.isPureReactComponent=!0;var Hc=Array.isArray,Mf=Object.prototype.hasOwnProperty,_u={current:null},Df={key:!0,ref:!0,__self:!0,__source:!0};function Ff(t,e,n){var r,s={},a=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(a=""+e.key),e)Mf.call(e,r)&&!Df.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:aa,type:t,key:a,ref:i,props:s,_owner:_u.current}}function Pg(t,e){return{$$typeof:aa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wu(t){return typeof t=="object"&&t!==null&&t.$$typeof===aa}function Ig(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kc=/\/+/g;function ko(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ig(""+t.key):e.toString(36)}function Ka(t,e,n,r,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case aa:case gg:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+ko(i,0):r,Hc(s)?(n="",t!=null&&(n=t.replace(Kc,"$&/")+"/"),Ka(s,e,n,"",function(u){return u})):s!=null&&(wu(s)&&(s=Pg(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Kc,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",Hc(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+ko(a,o);i+=Ka(a,e,n,l,s)}else if(l=Ag(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+ko(a,o++),i+=Ka(a,e,n,l,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function wa(t,e,n){if(t==null)return t;var r=[],s=0;return Ka(t,r,"","",function(a){return e.call(n,a,s++)}),r}function Rg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ze={current:null},Qa={transition:null},Tg={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Qa,ReactCurrentOwner:_u};function jf(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:wa,forEach:function(t,e,n){wa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wa(t,function(){e++}),e},toArray:function(t){return wa(t,function(e){return e})||[]},only:function(t){if(!wu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Vr;G.Fragment=yg;G.Profiler=_g;G.PureComponent=yu;G.StrictMode=vg;G.Suspense=kg;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tg;G.act=jf;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Of({},t.props),s=t.key,a=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,i=_u.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Mf.call(e,l)&&!Df.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:aa,type:t.type,key:s,ref:a,props:r,_owner:i}};G.createContext=function(t){return t={$$typeof:xg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wg,_context:t},t.Consumer=t};G.createElement=Ff;G.createFactory=function(t){var e=Ff.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:Sg,render:t}};G.isValidElement=wu;G.lazy=function(t){return{$$typeof:Cg,_payload:{_status:-1,_result:t},_init:Rg}};G.memo=function(t,e){return{$$typeof:Eg,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Qa.transition;Qa.transition={};try{t()}finally{Qa.transition=e}};G.unstable_act=jf;G.useCallback=function(t,e){return ze.current.useCallback(t,e)};G.useContext=function(t){return ze.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return ze.current.useDeferredValue(t)};G.useEffect=function(t,e){return ze.current.useEffect(t,e)};G.useId=function(){return ze.current.useId()};G.useImperativeHandle=function(t,e,n){return ze.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return ze.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return ze.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return ze.current.useMemo(t,e)};G.useReducer=function(t,e,n){return ze.current.useReducer(t,e,n)};G.useRef=function(t){return ze.current.useRef(t)};G.useState=function(t){return ze.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return ze.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return ze.current.useTransition()};G.version="18.3.1";Nf.exports=G;var oe=Nf.exports;const Ng=mg(oe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=oe,Og=Symbol.for("react.element"),$g=Symbol.for("react.fragment"),Lg=Object.prototype.hasOwnProperty,Mg=bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dg={key:!0,ref:!0,__self:!0,__source:!0};function zf(t,e,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)Lg.call(e,r)&&!Dg.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Og,type:t,key:a,ref:i,props:s,_owner:Mg.current}}Hi.Fragment=$g;Hi.jsx=zf;Hi.jsxs=zf;Tf.exports=Hi;var N=Tf.exports,il={},Uf={exports:{}},nt={},Bf={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,F){var K=O.length;O.push(F);e:for(;0<K;){var pe=K-1>>>1,xe=O[pe];if(0<s(xe,F))O[pe]=F,O[K]=xe,K=pe;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var F=O[0],K=O.pop();if(K!==F){O[0]=K;e:for(var pe=0,xe=O.length,va=xe>>>1;pe<va;){var Tn=2*(pe+1)-1,So=O[Tn],Nn=Tn+1,_a=O[Nn];if(0>s(So,K))Nn<xe&&0>s(_a,So)?(O[pe]=_a,O[Nn]=K,pe=Nn):(O[pe]=So,O[Tn]=K,pe=Tn);else if(Nn<xe&&0>s(_a,K))O[pe]=_a,O[Nn]=K,pe=Nn;else break e}}return F}function s(O,F){var K=O.sortIndex-F.sortIndex;return K!==0?K:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var l=[],u=[],f=1,c=null,h=3,g=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=O)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function _(O){if(v=!1,p(O),!y)if(n(l)!==null)y=!0,at(A);else{var F=n(u);F!==null&&At(_,F.startTime-O)}}function A(O,F){y=!1,v&&(v=!1,m(w),w=-1),g=!0;var K=h;try{for(p(F),c=n(l);c!==null&&(!(c.expirationTime>F)||O&&!I());){var pe=c.callback;if(typeof pe=="function"){c.callback=null,h=c.priorityLevel;var xe=pe(c.expirationTime<=F);F=t.unstable_now(),typeof xe=="function"?c.callback=xe:c===n(l)&&r(l),p(F)}else r(l);c=n(l)}if(c!==null)var va=!0;else{var Tn=n(u);Tn!==null&&At(_,Tn.startTime-F),va=!1}return va}finally{c=null,h=K,g=!1}}var E=!1,S=null,w=-1,R=5,P=-1;function I(){return!(t.unstable_now()-P<R)}function j(){if(S!==null){var O=t.unstable_now();P=O;var F=!0;try{F=S(!0,O)}finally{F?Q():(E=!1,S=null)}}else E=!1}var Q;if(typeof d=="function")Q=function(){d(j)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,st=te.port2;te.port1.onmessage=j,Q=function(){st.postMessage(null)}}else Q=function(){x(j,0)};function at(O){S=O,E||(E=!0,Q())}function At(O,F){w=x(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,at(A))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var K=h;h=F;try{return O()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=h;h=O;try{return F()}finally{h=K}},t.unstable_scheduleCallback=function(O,F,K){var pe=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?pe+K:pe):K=pe,O){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=K+xe,O={id:f++,callback:F,priorityLevel:O,startTime:K,expirationTime:xe,sortIndex:-1},K>pe?(O.sortIndex=K,e(u,O),n(l)===null&&O===n(u)&&(v?(m(w),w=-1):v=!0,At(_,K-pe))):(O.sortIndex=xe,e(l,O),y||g||(y=!0,at(A))),O},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(O){var F=h;return function(){var K=h;h=F;try{return O.apply(this,arguments)}finally{h=K}}}})(Vf);Bf.exports=Vf;var Fg=Bf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=oe,tt=Fg;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wf=new Set,Ps={};function Xn(t,e){br(t,e),br(t+"Capture",e)}function br(t,e){for(Ps[t]=e,t=0;t<e.length;t++)Wf.add(e[t])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ol=Object.prototype.hasOwnProperty,zg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qc={},Gc={};function Ug(t){return ol.call(Gc,t)?!0:ol.call(Qc,t)?!1:zg.test(t)?Gc[t]=!0:(Qc[t]=!0,!1)}function Bg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vg(t,e,n,r){if(e===null||typeof e>"u"||Bg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ue(t,e,n,r,s,a,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=i}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ie[t]=new Ue(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ie[e]=new Ue(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ie[t]=new Ue(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ie[t]=new Ue(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ie[t]=new Ue(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ie[t]=new Ue(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ie[t]=new Ue(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ie[t]=new Ue(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ie[t]=new Ue(t,5,!1,t.toLowerCase(),null,!1,!1)});var xu=/[\-:]([a-z])/g;function Su(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xu,Su);Ie[e]=new Ue(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xu,Su);Ie[e]=new Ue(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xu,Su);Ie[e]=new Ue(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ie[t]=new Ue(t,1,!1,t.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ie[t]=new Ue(t,1,!1,t.toLowerCase(),null,!0,!0)});function ku(t,e,n,r){var s=Ie.hasOwnProperty(e)?Ie[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vg(e,n,s,r)&&(n=null),r||s===null?Ug(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yt=jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xa=Symbol.for("react.element"),lr=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),Eu=Symbol.for("react.strict_mode"),ll=Symbol.for("react.profiler"),Zf=Symbol.for("react.provider"),Hf=Symbol.for("react.context"),Cu=Symbol.for("react.forward_ref"),ul=Symbol.for("react.suspense"),cl=Symbol.for("react.suspense_list"),Au=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),Kf=Symbol.for("react.offscreen"),Jc=Symbol.iterator;function Jr(t){return t===null||typeof t!="object"?null:(t=Jc&&t[Jc]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,Eo;function ss(t){if(Eo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Eo=e&&e[1]||""}return`
`+Eo+t}var Co=!1;function Ao(t,e){if(!t||Co)return"";Co=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==a[o]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=o);break}}}finally{Co=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ss(t):""}function Wg(t){switch(t.tag){case 5:return ss(t.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return t=Ao(t.type,!1),t;case 11:return t=Ao(t.type.render,!1),t;case 1:return t=Ao(t.type,!0),t;default:return""}}function dl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ur:return"Fragment";case lr:return"Portal";case ll:return"Profiler";case Eu:return"StrictMode";case ul:return"Suspense";case cl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hf:return(t.displayName||"Context")+".Consumer";case Zf:return(t._context.displayName||"Context")+".Provider";case Cu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Au:return e=t.displayName||null,e!==null?e:dl(t.type)||"Memo";case sn:e=t._payload,t=t._init;try{return dl(t(e))}catch{}}return null}function Zg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dl(e);case 8:return e===Eu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hg(t){var e=Qf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sa(t){t._valueTracker||(t._valueTracker=Hg(t))}function Gf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Qf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fl(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jf(t,e){e=e.checked,e!=null&&ku(t,"checked",e,!1)}function hl(t,e){Jf(t,e);var n=wn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pl(t,e.type,n):e.hasOwnProperty("defaultValue")&&pl(t,e.type,wn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pl(t,e,n){(e!=="number"||di(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var as=Array.isArray;function Sr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ml(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(as(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wn(n)}}function Xf(t,e){var n=wn(e.value),r=wn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ed(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ka,Yf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ka=ka||document.createElement("div"),ka.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ka.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Is(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kg=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(t){Kg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gs[e]=gs[t]})});function eh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gs.hasOwnProperty(t)&&gs[t]?(""+e).trim():e+"px"}function th(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=eh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Qg=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yl(t,e){if(e){if(Qg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function vl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _l=null;function Pu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wl=null,kr=null,Er=null;function td(t){if(t=la(t)){if(typeof wl!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Xi(e),wl(t.stateNode,t.type,e))}}function nh(t){kr?Er?Er.push(t):Er=[t]:kr=t}function rh(){if(kr){var t=kr,e=Er;if(Er=kr=null,td(t),e)for(t=0;t<e.length;t++)td(e[t])}}function sh(t,e){return t(e)}function ah(){}var Po=!1;function ih(t,e,n){if(Po)return t(e,n);Po=!0;try{return sh(t,e,n)}finally{Po=!1,(kr!==null||Er!==null)&&(ah(),rh())}}function Rs(t,e){var n=t.stateNode;if(n===null)return null;var r=Xi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var xl=!1;if(Qt)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){xl=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{xl=!1}function Gg(t,e,n,r,s,a,i,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var ys=!1,fi=null,hi=!1,Sl=null,Jg={onError:function(t){ys=!0,fi=t}};function Xg(t,e,n,r,s,a,i,o,l){ys=!1,fi=null,Gg.apply(Jg,arguments)}function qg(t,e,n,r,s,a,i,o,l){if(Xg.apply(this,arguments),ys){if(ys){var u=fi;ys=!1,fi=null}else throw Error(C(198));hi||(hi=!0,Sl=u)}}function qn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nd(t){if(qn(t)!==t)throw Error(C(188))}function Yg(t){var e=t.alternate;if(!e){if(e=qn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return nd(s),t;if(a===r)return nd(s),e;a=a.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,r=a;break}if(o===r){i=!0,r=s,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=s;break}if(o===r){i=!0,r=a,n=s;break}o=o.sibling}if(!i)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function lh(t){return t=Yg(t),t!==null?uh(t):null}function uh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uh(t);if(e!==null)return e;t=t.sibling}return null}var ch=tt.unstable_scheduleCallback,rd=tt.unstable_cancelCallback,ey=tt.unstable_shouldYield,ty=tt.unstable_requestPaint,me=tt.unstable_now,ny=tt.unstable_getCurrentPriorityLevel,Iu=tt.unstable_ImmediatePriority,dh=tt.unstable_UserBlockingPriority,pi=tt.unstable_NormalPriority,ry=tt.unstable_LowPriority,fh=tt.unstable_IdlePriority,Ki=null,$t=null;function sy(t){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Ki,t,void 0,(t.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:oy,ay=Math.log,iy=Math.LN2;function oy(t){return t>>>=0,t===0?32:31-(ay(t)/iy|0)|0}var Ea=64,Ca=4194304;function is(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes,i=n&268435455;if(i!==0){var o=i&~s;o!==0?r=is(o):(a&=i,a!==0&&(r=is(a)))}else i=n&~s,i!==0?r=is(i):a!==0&&(r=is(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xt(e),s=1<<n,r|=t[n],e&=~s;return r}function ly(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uy(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var i=31-xt(a),o=1<<i,l=s[i];l===-1?(!(o&n)||o&r)&&(s[i]=ly(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function kl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hh(){var t=Ea;return Ea<<=1,!(Ea&4194240)&&(Ea=64),t}function Io(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ia(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xt(e),t[e]=n}function cy(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xt(n),a=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~a}}function Ru(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var q=0;function ph(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mh,Tu,gh,yh,vh,El=!1,Aa=[],dn=null,fn=null,hn=null,Ts=new Map,Ns=new Map,on=[],dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sd(t,e){switch(t){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Ts.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(e.pointerId)}}function qr(t,e,n,r,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},e!==null&&(e=la(e),e!==null&&Tu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function fy(t,e,n,r,s){switch(e){case"focusin":return dn=qr(dn,t,e,n,r,s),!0;case"dragenter":return fn=qr(fn,t,e,n,r,s),!0;case"mouseover":return hn=qr(hn,t,e,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ts.set(a,qr(Ts.get(a)||null,t,e,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Ns.set(a,qr(Ns.get(a)||null,t,e,n,r,s)),!0}return!1}function _h(t){var e=Mn(t.target);if(e!==null){var n=qn(e);if(n!==null){if(e=n.tag,e===13){if(e=oh(n),e!==null){t.blockedOn=e,vh(t.priority,function(){gh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ga(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_l=r,n.target.dispatchEvent(r),_l=null}else return e=la(n),e!==null&&Tu(e),t.blockedOn=n,!1;e.shift()}return!0}function ad(t,e,n){Ga(t)&&n.delete(e)}function hy(){El=!1,dn!==null&&Ga(dn)&&(dn=null),fn!==null&&Ga(fn)&&(fn=null),hn!==null&&Ga(hn)&&(hn=null),Ts.forEach(ad),Ns.forEach(ad)}function Yr(t,e){t.blockedOn===e&&(t.blockedOn=null,El||(El=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,hy)))}function bs(t){function e(s){return Yr(s,t)}if(0<Aa.length){Yr(Aa[0],t);for(var n=1;n<Aa.length;n++){var r=Aa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(dn!==null&&Yr(dn,t),fn!==null&&Yr(fn,t),hn!==null&&Yr(hn,t),Ts.forEach(e),Ns.forEach(e),n=0;n<on.length;n++)r=on[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)_h(n),n.blockedOn===null&&on.shift()}var Cr=Yt.ReactCurrentBatchConfig,gi=!0;function py(t,e,n,r){var s=q,a=Cr.transition;Cr.transition=null;try{q=1,Nu(t,e,n,r)}finally{q=s,Cr.transition=a}}function my(t,e,n,r){var s=q,a=Cr.transition;Cr.transition=null;try{q=4,Nu(t,e,n,r)}finally{q=s,Cr.transition=a}}function Nu(t,e,n,r){if(gi){var s=Cl(t,e,n,r);if(s===null)Fo(t,e,r,yi,n),sd(t,r);else if(fy(s,t,e,n,r))r.stopPropagation();else if(sd(t,r),e&4&&-1<dy.indexOf(t)){for(;s!==null;){var a=la(s);if(a!==null&&mh(a),a=Cl(t,e,n,r),a===null&&Fo(t,e,r,yi,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Fo(t,e,r,null,n)}}var yi=null;function Cl(t,e,n,r){if(yi=null,t=Pu(r),t=Mn(t),t!==null)if(e=qn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yi=t,null}function wh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ny()){case Iu:return 1;case dh:return 4;case pi:case ry:return 16;case fh:return 536870912;default:return 16}default:return 16}}var un=null,bu=null,Ja=null;function xh(){if(Ja)return Ja;var t,e=bu,n=e.length,r,s="value"in un?un.value:un.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[a-r];r++);return Ja=s.slice(t,1<r?1-r:void 0)}function Xa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pa(){return!0}function id(){return!1}function rt(t){function e(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Pa:id,this.isPropagationStopped=id,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),e}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=rt(Wr),oa=de({},Wr,{view:0,detail:0}),gy=rt(oa),Ro,To,es,Qi=de({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$u,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==es&&(es&&t.type==="mousemove"?(Ro=t.screenX-es.screenX,To=t.screenY-es.screenY):To=Ro=0,es=t),Ro)},movementY:function(t){return"movementY"in t?t.movementY:To}}),od=rt(Qi),yy=de({},Qi,{dataTransfer:0}),vy=rt(yy),_y=de({},oa,{relatedTarget:0}),No=rt(_y),wy=de({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),xy=rt(wy),Sy=de({},Wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ky=rt(Sy),Ey=de({},Wr,{data:0}),ld=rt(Ey),Cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Py={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Py[t])?!!e[t]:!1}function $u(){return Iy}var Ry=de({},oa,{key:function(t){if(t.key){var e=Cy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ay[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$u,charCode:function(t){return t.type==="keypress"?Xa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ty=rt(Ry),Ny=de({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=rt(Ny),by=de({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$u}),Oy=rt(by),$y=de({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ly=rt($y),My=de({},Qi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dy=rt(My),Fy=[9,13,27,32],Lu=Qt&&"CompositionEvent"in window,vs=null;Qt&&"documentMode"in document&&(vs=document.documentMode);var jy=Qt&&"TextEvent"in window&&!vs,Sh=Qt&&(!Lu||vs&&8<vs&&11>=vs),cd=" ",dd=!1;function kh(t,e){switch(t){case"keyup":return Fy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cr=!1;function zy(t,e){switch(t){case"compositionend":return Eh(e);case"keypress":return e.which!==32?null:(dd=!0,cd);case"textInput":return t=e.data,t===cd&&dd?null:t;default:return null}}function Uy(t,e){if(cr)return t==="compositionend"||!Lu&&kh(t,e)?(t=xh(),Ja=bu=un=null,cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sh&&e.locale!=="ko"?null:e.data;default:return null}}var By={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!By[t.type]:e==="textarea"}function Ch(t,e,n,r){nh(r),e=vi(e,"onChange"),0<e.length&&(n=new Ou("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _s=null,Os=null;function Vy(t){Mh(t,0)}function Gi(t){var e=hr(t);if(Gf(e))return t}function Wy(t,e){if(t==="change")return e}var Ah=!1;if(Qt){var bo;if(Qt){var Oo="oninput"in document;if(!Oo){var hd=document.createElement("div");hd.setAttribute("oninput","return;"),Oo=typeof hd.oninput=="function"}bo=Oo}else bo=!1;Ah=bo&&(!document.documentMode||9<document.documentMode)}function pd(){_s&&(_s.detachEvent("onpropertychange",Ph),Os=_s=null)}function Ph(t){if(t.propertyName==="value"&&Gi(Os)){var e=[];Ch(e,Os,t,Pu(t)),ih(Vy,e)}}function Zy(t,e,n){t==="focusin"?(pd(),_s=e,Os=n,_s.attachEvent("onpropertychange",Ph)):t==="focusout"&&pd()}function Hy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gi(Os)}function Ky(t,e){if(t==="click")return Gi(e)}function Qy(t,e){if(t==="input"||t==="change")return Gi(e)}function Gy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Et=typeof Object.is=="function"?Object.is:Gy;function $s(t,e){if(Et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ol.call(e,s)||!Et(t[s],e[s]))return!1}return!0}function md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gd(t,e){var n=md(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=md(n)}}function Ih(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ih(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rh(){for(var t=window,e=di();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=di(t.document)}return e}function Mu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Jy(t){var e=Rh(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ih(n.ownerDocument.documentElement,n)){if(r!==null&&Mu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!t.extend&&a>r&&(s=r,r=a,a=s),s=gd(n,a);var i=gd(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xy=Qt&&"documentMode"in document&&11>=document.documentMode,dr=null,Al=null,ws=null,Pl=!1;function yd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pl||dr==null||dr!==di(r)||(r=dr,"selectionStart"in r&&Mu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ws&&$s(ws,r)||(ws=r,r=vi(Al,"onSelect"),0<r.length&&(e=new Ou("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=dr)))}function Ia(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fr={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionend:Ia("Transition","TransitionEnd")},$o={},Th={};Qt&&(Th=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Ji(t){if($o[t])return $o[t];if(!fr[t])return t;var e=fr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Th)return $o[t]=e[n];return t}var Nh=Ji("animationend"),bh=Ji("animationiteration"),Oh=Ji("animationstart"),$h=Ji("transitionend"),Lh=new Map,vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,e){Lh.set(t,e),Xn(e,[t])}for(var Lo=0;Lo<vd.length;Lo++){var Mo=vd[Lo],qy=Mo.toLowerCase(),Yy=Mo[0].toUpperCase()+Mo.slice(1);An(qy,"on"+Yy)}An(Nh,"onAnimationEnd");An(bh,"onAnimationIteration");An(Oh,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An($h,"onTransitionEnd");br("onMouseEnter",["mouseout","mouseover"]);br("onMouseLeave",["mouseout","mouseover"]);br("onPointerEnter",["pointerout","pointerover"]);br("onPointerLeave",["pointerout","pointerover"]);Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(os));function _d(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qg(r,e,void 0,t),t.currentTarget=null}function Mh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;_d(s,o,u),a=l}else for(i=0;i<r.length;i++){if(o=r[i],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;_d(s,o,u),a=l}}}if(hi)throw t=Sl,hi=!1,Sl=null,t}function re(t,e){var n=e[bl];n===void 0&&(n=e[bl]=new Set);var r=t+"__bubble";n.has(r)||(Dh(e,t,2,!1),n.add(r))}function Do(t,e,n){var r=0;e&&(r|=4),Dh(n,t,r,e)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function Ls(t){if(!t[Ra]){t[Ra]=!0,Wf.forEach(function(n){n!=="selectionchange"&&(ev.has(n)||Do(n,!1,t),Do(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ra]||(e[Ra]=!0,Do("selectionchange",!1,e))}}function Dh(t,e,n,r){switch(wh(e)){case 1:var s=py;break;case 4:s=my;break;default:s=Nu}n=s.bind(null,e,n,t),s=void 0,!xl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Fo(t,e,n,r,s){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;o!==null;){if(i=Mn(o),i===null)return;if(l=i.tag,l===5||l===6){r=a=i;continue e}o=o.parentNode}}r=r.return}ih(function(){var u=a,f=Pu(n),c=[];e:{var h=Lh.get(t);if(h!==void 0){var g=Ou,y=t;switch(t){case"keypress":if(Xa(n)===0)break e;case"keydown":case"keyup":g=Ty;break;case"focusin":y="focus",g=No;break;case"focusout":y="blur",g=No;break;case"beforeblur":case"afterblur":g=No;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Oy;break;case Nh:case bh:case Oh:g=xy;break;case $h:g=Ly;break;case"scroll":g=gy;break;case"wheel":g=Dy;break;case"copy":case"cut":case"paste":g=ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ud}var v=(e&4)!==0,x=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var d=u,p;d!==null;){p=d;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,m!==null&&(_=Rs(d,m),_!=null&&v.push(Ms(d,_,p)))),x)break;d=d.return}0<v.length&&(h=new g(h,y,null,n,f),c.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==_l&&(y=n.relatedTarget||n.fromElement)&&(Mn(y)||y[Gt]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Mn(y):null,y!==null&&(x=qn(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(v=od,_="onMouseLeave",m="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(v=ud,_="onPointerLeave",m="onPointerEnter",d="pointer"),x=g==null?h:hr(g),p=y==null?h:hr(y),h=new v(_,d+"leave",g,n,f),h.target=x,h.relatedTarget=p,_=null,Mn(f)===u&&(v=new v(m,d+"enter",y,n,f),v.target=p,v.relatedTarget=x,_=v),x=_,g&&y)t:{for(v=g,m=y,d=0,p=v;p;p=Yn(p))d++;for(p=0,_=m;_;_=Yn(_))p++;for(;0<d-p;)v=Yn(v),d--;for(;0<p-d;)m=Yn(m),p--;for(;d--;){if(v===m||m!==null&&v===m.alternate)break t;v=Yn(v),m=Yn(m)}v=null}else v=null;g!==null&&wd(c,h,g,v,!1),y!==null&&x!==null&&wd(c,x,y,v,!0)}}e:{if(h=u?hr(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var A=Wy;else if(fd(h))if(Ah)A=Qy;else{A=Hy;var E=Zy}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=Ky);if(A&&(A=A(t,u))){Ch(c,A,n,f);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&pl(h,"number",h.value)}switch(E=u?hr(u):window,t){case"focusin":(fd(E)||E.contentEditable==="true")&&(dr=E,Al=u,ws=null);break;case"focusout":ws=Al=dr=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,yd(c,n,f);break;case"selectionchange":if(Xy)break;case"keydown":case"keyup":yd(c,n,f)}var S;if(Lu)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else cr?kh(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(Sh&&n.locale!=="ko"&&(cr||w!=="onCompositionStart"?w==="onCompositionEnd"&&cr&&(S=xh()):(un=f,bu="value"in un?un.value:un.textContent,cr=!0)),E=vi(u,w),0<E.length&&(w=new ld(w,t,null,n,f),c.push({event:w,listeners:E}),S?w.data=S:(S=Eh(n),S!==null&&(w.data=S)))),(S=jy?zy(t,n):Uy(t,n))&&(u=vi(u,"onBeforeInput"),0<u.length&&(f=new ld("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=S))}Mh(c,e)})}function Ms(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Rs(t,n),a!=null&&r.unshift(Ms(t,a,s)),a=Rs(t,e),a!=null&&r.push(Ms(t,a,s))),t=t.return}return r}function Yn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wd(t,e,n,r,s){for(var a=e._reactName,i=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Rs(n,a),l!=null&&i.unshift(Ms(n,l,o))):s||(l=Rs(n,a),l!=null&&i.push(Ms(n,l,o)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var tv=/\r\n?/g,nv=/\u0000|\uFFFD/g;function xd(t){return(typeof t=="string"?t:""+t).replace(tv,`
`).replace(nv,"")}function Ta(t,e,n){if(e=xd(e),xd(t)!==e&&n)throw Error(C(425))}function _i(){}var Il=null,Rl=null;function Tl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nl=typeof setTimeout=="function"?setTimeout:void 0,rv=typeof clearTimeout=="function"?clearTimeout:void 0,Sd=typeof Promise=="function"?Promise:void 0,sv=typeof queueMicrotask=="function"?queueMicrotask:typeof Sd<"u"?function(t){return Sd.resolve(null).then(t).catch(av)}:Nl;function av(t){setTimeout(function(){throw t})}function jo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),bs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);bs(e)}function pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),bt="__reactFiber$"+Zr,Ds="__reactProps$"+Zr,Gt="__reactContainer$"+Zr,bl="__reactEvents$"+Zr,iv="__reactListeners$"+Zr,ov="__reactHandles$"+Zr;function Mn(t){var e=t[bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gt]||n[bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kd(t);t!==null;){if(n=t[bt])return n;t=kd(t)}return e}t=n,n=t.parentNode}return null}function la(t){return t=t[bt]||t[Gt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Xi(t){return t[Ds]||null}var Ol=[],pr=-1;function Pn(t){return{current:t}}function se(t){0>pr||(t.current=Ol[pr],Ol[pr]=null,pr--)}function ne(t,e){pr++,Ol[pr]=t.current,t.current=e}var xn={},Le=Pn(xn),Ze=Pn(!1),Vn=xn;function Or(t,e){var n=t.type.contextTypes;if(!n)return xn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function He(t){return t=t.childContextTypes,t!=null}function wi(){se(Ze),se(Le)}function Ed(t,e,n){if(Le.current!==xn)throw Error(C(168));ne(Le,e),ne(Ze,n)}function Fh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(C(108,Zg(t)||"Unknown",s));return de({},n,r)}function xi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xn,Vn=Le.current,ne(Le,t),ne(Ze,Ze.current),!0}function Cd(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=Fh(t,e,Vn),r.__reactInternalMemoizedMergedChildContext=t,se(Ze),se(Le),ne(Le,t)):se(Ze),ne(Ze,n)}var Vt=null,qi=!1,zo=!1;function jh(t){Vt===null?Vt=[t]:Vt.push(t)}function lv(t){qi=!0,jh(t)}function In(){if(!zo&&Vt!==null){zo=!0;var t=0,e=q;try{var n=Vt;for(q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vt=null,qi=!1}catch(s){throw Vt!==null&&(Vt=Vt.slice(t+1)),ch(Iu,In),s}finally{q=e,zo=!1}}return null}var mr=[],gr=0,Si=null,ki=0,it=[],ot=0,Wn=null,Zt=1,Ht="";function On(t,e){mr[gr++]=ki,mr[gr++]=Si,Si=t,ki=e}function zh(t,e,n){it[ot++]=Zt,it[ot++]=Ht,it[ot++]=Wn,Wn=t;var r=Zt;t=Ht;var s=32-xt(r)-1;r&=~(1<<s),n+=1;var a=32-xt(e)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Zt=1<<32-xt(e)+s|n<<s|r,Ht=a+t}else Zt=1<<a|n<<s|r,Ht=t}function Du(t){t.return!==null&&(On(t,1),zh(t,1,0))}function Fu(t){for(;t===Si;)Si=mr[--gr],mr[gr]=null,ki=mr[--gr],mr[gr]=null;for(;t===Wn;)Wn=it[--ot],it[ot]=null,Ht=it[--ot],it[ot]=null,Zt=it[--ot],it[ot]=null}var Ye=null,qe=null,ae=!1,vt=null;function Uh(t,e){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ad(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ye=t,qe=pn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ye=t,qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wn!==null?{id:Zt,overflow:Ht}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ye=t,qe=null,!0):!1;default:return!1}}function $l(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ll(t){if(ae){var e=qe;if(e){var n=e;if(!Ad(t,e)){if($l(t))throw Error(C(418));e=pn(n.nextSibling);var r=Ye;e&&Ad(t,e)?Uh(r,n):(t.flags=t.flags&-4097|2,ae=!1,Ye=t)}}else{if($l(t))throw Error(C(418));t.flags=t.flags&-4097|2,ae=!1,Ye=t}}}function Pd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ye=t}function Na(t){if(t!==Ye)return!1;if(!ae)return Pd(t),ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tl(t.type,t.memoizedProps)),e&&(e=qe)){if($l(t))throw Bh(),Error(C(418));for(;e;)Uh(t,e),e=pn(e.nextSibling)}if(Pd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qe=pn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qe=null}}else qe=Ye?pn(t.stateNode.nextSibling):null;return!0}function Bh(){for(var t=qe;t;)t=pn(t.nextSibling)}function $r(){qe=Ye=null,ae=!1}function ju(t){vt===null?vt=[t]:vt.push(t)}var uv=Yt.ReactCurrentBatchConfig;function ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var s=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(i){var o=s.refs;i===null?delete o[a]:o[a]=i},e._stringRef=a,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function ba(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Id(t){var e=t._init;return e(t._payload)}function Vh(t){function e(m,d){if(t){var p=m.deletions;p===null?(m.deletions=[d],m.flags|=16):p.push(d)}}function n(m,d){if(!t)return null;for(;d!==null;)e(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function s(m,d){return m=vn(m,d),m.index=0,m.sibling=null,m}function a(m,d,p){return m.index=p,t?(p=m.alternate,p!==null?(p=p.index,p<d?(m.flags|=2,d):p):(m.flags|=2,d)):(m.flags|=1048576,d)}function i(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,d,p,_){return d===null||d.tag!==6?(d=Ko(p,m.mode,_),d.return=m,d):(d=s(d,p),d.return=m,d)}function l(m,d,p,_){var A=p.type;return A===ur?f(m,d,p.props.children,_,p.key):d!==null&&(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===sn&&Id(A)===d.type)?(_=s(d,p.props),_.ref=ts(m,d,p),_.return=m,_):(_=si(p.type,p.key,p.props,null,m.mode,_),_.ref=ts(m,d,p),_.return=m,_)}function u(m,d,p,_){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=Qo(p,m.mode,_),d.return=m,d):(d=s(d,p.children||[]),d.return=m,d)}function f(m,d,p,_,A){return d===null||d.tag!==7?(d=Un(p,m.mode,_,A),d.return=m,d):(d=s(d,p),d.return=m,d)}function c(m,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ko(""+d,m.mode,p),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case xa:return p=si(d.type,d.key,d.props,null,m.mode,p),p.ref=ts(m,null,d),p.return=m,p;case lr:return d=Qo(d,m.mode,p),d.return=m,d;case sn:var _=d._init;return c(m,_(d._payload),p)}if(as(d)||Jr(d))return d=Un(d,m.mode,p,null),d.return=m,d;ba(m,d)}return null}function h(m,d,p,_){var A=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return A!==null?null:o(m,d,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xa:return p.key===A?l(m,d,p,_):null;case lr:return p.key===A?u(m,d,p,_):null;case sn:return A=p._init,h(m,d,A(p._payload),_)}if(as(p)||Jr(p))return A!==null?null:f(m,d,p,_,null);ba(m,p)}return null}function g(m,d,p,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(p)||null,o(d,m,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xa:return m=m.get(_.key===null?p:_.key)||null,l(d,m,_,A);case lr:return m=m.get(_.key===null?p:_.key)||null,u(d,m,_,A);case sn:var E=_._init;return g(m,d,p,E(_._payload),A)}if(as(_)||Jr(_))return m=m.get(p)||null,f(d,m,_,A,null);ba(d,_)}return null}function y(m,d,p,_){for(var A=null,E=null,S=d,w=d=0,R=null;S!==null&&w<p.length;w++){S.index>w?(R=S,S=null):R=S.sibling;var P=h(m,S,p[w],_);if(P===null){S===null&&(S=R);break}t&&S&&P.alternate===null&&e(m,S),d=a(P,d,w),E===null?A=P:E.sibling=P,E=P,S=R}if(w===p.length)return n(m,S),ae&&On(m,w),A;if(S===null){for(;w<p.length;w++)S=c(m,p[w],_),S!==null&&(d=a(S,d,w),E===null?A=S:E.sibling=S,E=S);return ae&&On(m,w),A}for(S=r(m,S);w<p.length;w++)R=g(S,m,w,p[w],_),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?w:R.key),d=a(R,d,w),E===null?A=R:E.sibling=R,E=R);return t&&S.forEach(function(I){return e(m,I)}),ae&&On(m,w),A}function v(m,d,p,_){var A=Jr(p);if(typeof A!="function")throw Error(C(150));if(p=A.call(p),p==null)throw Error(C(151));for(var E=A=null,S=d,w=d=0,R=null,P=p.next();S!==null&&!P.done;w++,P=p.next()){S.index>w?(R=S,S=null):R=S.sibling;var I=h(m,S,P.value,_);if(I===null){S===null&&(S=R);break}t&&S&&I.alternate===null&&e(m,S),d=a(I,d,w),E===null?A=I:E.sibling=I,E=I,S=R}if(P.done)return n(m,S),ae&&On(m,w),A;if(S===null){for(;!P.done;w++,P=p.next())P=c(m,P.value,_),P!==null&&(d=a(P,d,w),E===null?A=P:E.sibling=P,E=P);return ae&&On(m,w),A}for(S=r(m,S);!P.done;w++,P=p.next())P=g(S,m,w,P.value,_),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?w:P.key),d=a(P,d,w),E===null?A=P:E.sibling=P,E=P);return t&&S.forEach(function(j){return e(m,j)}),ae&&On(m,w),A}function x(m,d,p,_){if(typeof p=="object"&&p!==null&&p.type===ur&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case xa:e:{for(var A=p.key,E=d;E!==null;){if(E.key===A){if(A=p.type,A===ur){if(E.tag===7){n(m,E.sibling),d=s(E,p.props.children),d.return=m,m=d;break e}}else if(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===sn&&Id(A)===E.type){n(m,E.sibling),d=s(E,p.props),d.ref=ts(m,E,p),d.return=m,m=d;break e}n(m,E);break}else e(m,E);E=E.sibling}p.type===ur?(d=Un(p.props.children,m.mode,_,p.key),d.return=m,m=d):(_=si(p.type,p.key,p.props,null,m.mode,_),_.ref=ts(m,d,p),_.return=m,m=_)}return i(m);case lr:e:{for(E=p.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(m,d.sibling),d=s(d,p.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else e(m,d);d=d.sibling}d=Qo(p,m.mode,_),d.return=m,m=d}return i(m);case sn:return E=p._init,x(m,d,E(p._payload),_)}if(as(p))return y(m,d,p,_);if(Jr(p))return v(m,d,p,_);ba(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(m,d.sibling),d=s(d,p),d.return=m,m=d):(n(m,d),d=Ko(p,m.mode,_),d.return=m,m=d),i(m)):n(m,d)}return x}var Lr=Vh(!0),Wh=Vh(!1),Ei=Pn(null),Ci=null,yr=null,zu=null;function Uu(){zu=yr=Ci=null}function Bu(t){var e=Ei.current;se(Ei),t._currentValue=e}function Ml(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ar(t,e){Ci=t,zu=yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(We=!0),t.firstContext=null)}function dt(t){var e=t._currentValue;if(zu!==t)if(t={context:t,memoizedValue:e,next:null},yr===null){if(Ci===null)throw Error(C(308));yr=t,Ci.dependencies={lanes:0,firstContext:t}}else yr=yr.next=t;return e}var Dn=null;function Vu(t){Dn===null?Dn=[t]:Dn.push(t)}function Zh(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Vu(e)):(n.next=s.next,s.next=n),e.interleaved=n,Jt(t,r)}function Jt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var an=!1;function Wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Jt(t,n)}return s=r.interleaved,s===null?(e.next=e,Vu(r)):(e.next=s.next,s.next=e),r.interleaved=e,Jt(t,n)}function qa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ru(t,n)}}function Rd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ai(t,e,n,r){var s=t.updateQueue;an=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,i===null?a=u:i.next=u,i=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==i&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=l))}if(a!==null){var c=s.baseState;i=0,f=u=l=null,o=a;do{var h=o.lane,g=o.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,v=o;switch(h=e,g=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){c=y.call(g,c,h);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(g,c,h):y,h==null)break e;c=de({},c,h);break e;case 2:an=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else g={eventTime:g,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=g,l=c):f=f.next=g,i|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(l=c),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);Hn|=i,t.lanes=i,t.memoizedState=c}}function Td(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var ua={},Lt=Pn(ua),Fs=Pn(ua),js=Pn(ua);function Fn(t){if(t===ua)throw Error(C(174));return t}function Zu(t,e){switch(ne(js,e),ne(Fs,t),ne(Lt,ua),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gl(e,t)}se(Lt),ne(Lt,e)}function Mr(){se(Lt),se(Fs),se(js)}function Kh(t){Fn(js.current);var e=Fn(Lt.current),n=gl(e,t.type);e!==n&&(ne(Fs,t),ne(Lt,n))}function Hu(t){Fs.current===t&&(se(Lt),se(Fs))}var ue=Pn(0);function Pi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uo=[];function Ku(){for(var t=0;t<Uo.length;t++)Uo[t]._workInProgressVersionPrimary=null;Uo.length=0}var Ya=Yt.ReactCurrentDispatcher,Bo=Yt.ReactCurrentBatchConfig,Zn=0,ce=null,_e=null,ke=null,Ii=!1,xs=!1,zs=0,cv=0;function Ne(){throw Error(C(321))}function Qu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Et(t[n],e[n]))return!1;return!0}function Gu(t,e,n,r,s,a){if(Zn=a,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ya.current=t===null||t.memoizedState===null?pv:mv,t=n(r,s),xs){a=0;do{if(xs=!1,zs=0,25<=a)throw Error(C(301));a+=1,ke=_e=null,e.updateQueue=null,Ya.current=gv,t=n(r,s)}while(xs)}if(Ya.current=Ri,e=_e!==null&&_e.next!==null,Zn=0,ke=_e=ce=null,Ii=!1,e)throw Error(C(300));return t}function Ju(){var t=zs!==0;return zs=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ce.memoizedState=ke=t:ke=ke.next=t,ke}function ft(){if(_e===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var e=ke===null?ce.memoizedState:ke.next;if(e!==null)ke=e,_e=t;else{if(t===null)throw Error(C(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},ke===null?ce.memoizedState=ke=t:ke=ke.next=t}return ke}function Us(t,e){return typeof e=="function"?e(t):e}function Vo(t){var e=ft(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=_e,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var o=i=null,l=null,u=a;do{var f=u.lane;if((Zn&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=c,i=r):l=l.next=c,ce.lanes|=f,Hn|=f}u=u.next}while(u!==null&&u!==a);l===null?i=r:l.next=o,Et(r,e.memoizedState)||(We=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do a=s.lane,ce.lanes|=a,Hn|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wo(t){var e=ft(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=t(a,i.action),i=i.next;while(i!==s);Et(a,e.memoizedState)||(We=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Qh(){}function Gh(t,e){var n=ce,r=ft(),s=e(),a=!Et(r.memoizedState,s);if(a&&(r.memoizedState=s,We=!0),r=r.queue,Xu(qh.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,Bs(9,Xh.bind(null,n,r,s,e),void 0,null),Ee===null)throw Error(C(349));Zn&30||Jh(n,e,s)}return s}function Jh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xh(t,e,n,r){e.value=n,e.getSnapshot=r,Yh(e)&&ep(t)}function qh(t,e,n){return n(function(){Yh(e)&&ep(t)})}function Yh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Et(t,n)}catch{return!0}}function ep(t){var e=Jt(t,1);e!==null&&St(e,t,1,-1)}function Nd(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:t},e.queue=t,t=t.dispatch=hv.bind(null,ce,t),[e.memoizedState,t]}function Bs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tp(){return ft().memoizedState}function ei(t,e,n,r){var s=Rt();ce.flags|=t,s.memoizedState=Bs(1|e,n,void 0,r===void 0?null:r)}function Yi(t,e,n,r){var s=ft();r=r===void 0?null:r;var a=void 0;if(_e!==null){var i=_e.memoizedState;if(a=i.destroy,r!==null&&Qu(r,i.deps)){s.memoizedState=Bs(e,n,a,r);return}}ce.flags|=t,s.memoizedState=Bs(1|e,n,a,r)}function bd(t,e){return ei(8390656,8,t,e)}function Xu(t,e){return Yi(2048,8,t,e)}function np(t,e){return Yi(4,2,t,e)}function rp(t,e){return Yi(4,4,t,e)}function sp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ap(t,e,n){return n=n!=null?n.concat([t]):null,Yi(4,4,sp.bind(null,e,t),n)}function qu(){}function ip(t,e){var n=ft();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function op(t,e){var n=ft();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lp(t,e,n){return Zn&21?(Et(n,e)||(n=hh(),ce.lanes|=n,Hn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,We=!0),t.memoizedState=n)}function dv(t,e){var n=q;q=n!==0&&4>n?n:4,t(!0);var r=Bo.transition;Bo.transition={};try{t(!1),e()}finally{q=n,Bo.transition=r}}function up(){return ft().memoizedState}function fv(t,e,n){var r=yn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cp(t))dp(e,n);else if(n=Zh(t,e,n,r),n!==null){var s=Fe();St(n,t,r,s),fp(n,e,r)}}function hv(t,e,n){var r=yn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cp(t))dp(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var i=e.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,Et(o,i)){var l=e.interleaved;l===null?(s.next=s,Vu(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Zh(t,e,s,r),n!==null&&(s=Fe(),St(n,t,r,s),fp(n,e,r))}}function cp(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function dp(t,e){xs=Ii=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ru(t,n)}}var Ri={readContext:dt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},pv={readContext:dt,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:dt,useEffect:bd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ei(4194308,4,sp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ei(4194308,4,t,e)},useInsertionEffect:function(t,e){return ei(4,2,t,e)},useMemo:function(t,e){var n=Rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fv.bind(null,ce,t),[r.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:Nd,useDebugValue:qu,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=Nd(!1),e=t[0];return t=dv.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ce,s=Rt();if(ae){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),Ee===null)throw Error(C(349));Zn&30||Jh(r,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,bd(qh.bind(null,r,a,t),[t]),r.flags|=2048,Bs(9,Xh.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Rt(),e=Ee.identifierPrefix;if(ae){var n=Ht,r=Zt;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mv={readContext:dt,useCallback:ip,useContext:dt,useEffect:Xu,useImperativeHandle:ap,useInsertionEffect:np,useLayoutEffect:rp,useMemo:op,useReducer:Vo,useRef:tp,useState:function(){return Vo(Us)},useDebugValue:qu,useDeferredValue:function(t){var e=ft();return lp(e,_e.memoizedState,t)},useTransition:function(){var t=Vo(Us)[0],e=ft().memoizedState;return[t,e]},useMutableSource:Qh,useSyncExternalStore:Gh,useId:up,unstable_isNewReconciler:!1},gv={readContext:dt,useCallback:ip,useContext:dt,useEffect:Xu,useImperativeHandle:ap,useInsertionEffect:np,useLayoutEffect:rp,useMemo:op,useReducer:Wo,useRef:tp,useState:function(){return Wo(Us)},useDebugValue:qu,useDeferredValue:function(t){var e=ft();return _e===null?e.memoizedState=t:lp(e,_e.memoizedState,t)},useTransition:function(){var t=Wo(Us)[0],e=ft().memoizedState;return[t,e]},useMutableSource:Qh,useSyncExternalStore:Gh,useId:up,unstable_isNewReconciler:!1};function mt(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Dl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eo={isMounted:function(t){return(t=t._reactInternals)?qn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fe(),s=yn(t),a=Kt(r,s);a.payload=e,n!=null&&(a.callback=n),e=mn(t,a,s),e!==null&&(St(e,t,s,r),qa(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fe(),s=yn(t),a=Kt(r,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=mn(t,a,s),e!==null&&(St(e,t,s,r),qa(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fe(),r=yn(t),s=Kt(n,r);s.tag=2,e!=null&&(s.callback=e),e=mn(t,s,r),e!==null&&(St(e,t,r,n),qa(e,t,r))}};function Od(t,e,n,r,s,a,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,i):e.prototype&&e.prototype.isPureReactComponent?!$s(n,r)||!$s(s,a):!0}function hp(t,e,n){var r=!1,s=xn,a=e.contextType;return typeof a=="object"&&a!==null?a=dt(a):(s=He(e)?Vn:Le.current,r=e.contextTypes,a=(r=r!=null)?Or(t,s):xn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function $d(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eo.enqueueReplaceState(e,e.state,null)}function Fl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Wu(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=dt(a):(a=He(e)?Vn:Le.current,s.context=Or(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Dl(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&eo.enqueueReplaceState(s,s.state,null),Ai(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dr(t,e){try{var n="",r=e;do n+=Wg(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function Zo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yv=typeof WeakMap=="function"?WeakMap:Map;function pp(t,e,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ni||(Ni=!0,Gl=r),jl(t,e)},n}function mp(t,e,n){n=Kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){jl(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){jl(t,e),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Ld(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Nv.bind(null,t,e,n),e.then(t,t))}function Md(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kt(-1,1),e.tag=2,mn(n,e,1))),n.lanes|=1),t)}var vv=Yt.ReactCurrentOwner,We=!1;function De(t,e,n,r){e.child=t===null?Wh(e,null,n,r):Lr(e,t.child,n,r)}function Fd(t,e,n,r,s){n=n.render;var a=e.ref;return Ar(e,s),r=Gu(t,e,n,r,a,s),n=Ju(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xt(t,e,s)):(ae&&n&&Du(e),e.flags|=1,De(t,e,r,s),e.child)}function jd(t,e,n,r,s){if(t===null){var a=n.type;return typeof a=="function"&&!ic(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,gp(t,e,a,r,s)):(t=si(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:$s,n(i,r)&&t.ref===e.ref)return Xt(t,e,s)}return e.flags|=1,t=vn(a,r),t.ref=e.ref,t.return=e,e.child=t}function gp(t,e,n,r,s){if(t!==null){var a=t.memoizedProps;if($s(a,r)&&t.ref===e.ref)if(We=!1,e.pendingProps=r=a,(t.lanes&s)!==0)t.flags&131072&&(We=!0);else return e.lanes=t.lanes,Xt(t,e,s)}return zl(t,e,n,r,s)}function yp(t,e,n){var r=e.pendingProps,s=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(_r,Xe),Xe|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ne(_r,Xe),Xe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ne(_r,Xe),Xe|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,ne(_r,Xe),Xe|=r;return De(t,e,s,n),e.child}function vp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zl(t,e,n,r,s){var a=He(n)?Vn:Le.current;return a=Or(e,a),Ar(e,s),n=Gu(t,e,n,r,a,s),r=Ju(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xt(t,e,s)):(ae&&r&&Du(e),e.flags|=1,De(t,e,n,s),e.child)}function zd(t,e,n,r,s){if(He(n)){var a=!0;xi(e)}else a=!1;if(Ar(e,s),e.stateNode===null)ti(t,e),hp(e,n,r),Fl(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,o=e.memoizedProps;i.props=o;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=He(n)?Vn:Le.current,u=Or(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";c||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||l!==u)&&$d(e,i,r,u),an=!1;var h=e.memoizedState;i.state=h,Ai(e,r,i,s),l=e.memoizedState,o!==r||h!==l||Ze.current||an?(typeof f=="function"&&(Dl(e,n,f,r),l=e.memoizedState),(o=an||Od(e,n,o,r,h,l,u))?(c||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=u,r=o):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,Hh(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:mt(e.type,o),i.props=u,c=e.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=dt(l):(l=He(n)?Vn:Le.current,l=Or(e,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==c||h!==l)&&$d(e,i,r,l),an=!1,h=e.memoizedState,i.state=h,Ai(e,r,i,s);var y=e.memoizedState;o!==c||h!==y||Ze.current||an?(typeof g=="function"&&(Dl(e,n,g,r),y=e.memoizedState),(u=an||Od(e,n,u,r,h,y,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),i.props=r,i.state=y,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ul(t,e,n,r,a,s)}function Ul(t,e,n,r,s,a){vp(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&Cd(e,n,!1),Xt(t,e,a);r=e.stateNode,vv.current=e;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Lr(e,t.child,null,a),e.child=Lr(e,null,o,a)):De(t,e,o,a),e.memoizedState=r.state,s&&Cd(e,n,!0),e.child}function _p(t){var e=t.stateNode;e.pendingContext?Ed(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ed(t,e.context,!1),Zu(t,e.containerInfo)}function Ud(t,e,n,r,s){return $r(),ju(s),e.flags|=256,De(t,e,n,r),e.child}var Bl={dehydrated:null,treeContext:null,retryLane:0};function Vl(t){return{baseLanes:t,cachePool:null,transitions:null}}function wp(t,e,n){var r=e.pendingProps,s=ue.current,a=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ne(ue,s&1),t===null)return Ll(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,a?(r=e.mode,a=e.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=ro(i,r,0,null),t=Un(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Vl(n),e.memoizedState=Bl,t):Yu(e,i));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return _v(t,e,i,r,o,s,n);if(a){a=r.fallback,i=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=vn(o,a):(a=Un(a,i,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,i=t.child.memoizedState,i=i===null?Vl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=t.childLanes&~n,e.memoizedState=Bl,r}return a=t.child,t=a.sibling,r=vn(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yu(t,e){return e=ro({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oa(t,e,n,r){return r!==null&&ju(r),Lr(e,t.child,null,n),t=Yu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _v(t,e,n,r,s,a,i){if(n)return e.flags&256?(e.flags&=-257,r=Zo(Error(C(422))),Oa(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,s=e.mode,r=ro({mode:"visible",children:r.children},s,0,null),a=Un(a,s,i,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Lr(e,t.child,null,i),e.child.memoizedState=Vl(i),e.memoizedState=Bl,a);if(!(e.mode&1))return Oa(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(C(419)),r=Zo(a,r,void 0),Oa(t,e,i,r)}if(o=(i&t.childLanes)!==0,We||o){if(r=Ee,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Jt(t,s),St(r,t,s,-1))}return ac(),r=Zo(Error(C(421))),Oa(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bv.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,qe=pn(s.nextSibling),Ye=e,ae=!0,vt=null,t!==null&&(it[ot++]=Zt,it[ot++]=Ht,it[ot++]=Wn,Zt=t.id,Ht=t.overflow,Wn=e),e=Yu(e,r.children),e.flags|=4096,e)}function Bd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ml(t.return,e,n)}function Ho(t,e,n,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function xp(t,e,n){var r=e.pendingProps,s=r.revealOrder,a=r.tail;if(De(t,e,r.children,n),r=ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bd(t,n,e);else if(t.tag===19)Bd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ne(ue,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Pi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ho(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Pi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ho(e,!0,n,null,a);break;case"together":Ho(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ti(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=vn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wv(t,e,n){switch(e.tag){case 3:_p(e),$r();break;case 5:Kh(e);break;case 1:He(e.type)&&xi(e);break;case 4:Zu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ne(Ei,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ne(ue,ue.current&1),e.flags|=128,null):n&e.child.childLanes?wp(t,e,n):(ne(ue,ue.current&1),t=Xt(t,e,n),t!==null?t.sibling:null);ne(ue,ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xp(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(ue,ue.current),r)break;return null;case 22:case 23:return e.lanes=0,yp(t,e,n)}return Xt(t,e,n)}var Sp,Wl,kp,Ep;Sp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wl=function(){};kp=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fn(Lt.current);var a=null;switch(n){case"input":s=fl(t,s),r=fl(t,r),a=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),a=[];break;case"textarea":s=ml(t,s),r=ml(t,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_i)}yl(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ps.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ps.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&re("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};Ep=function(t,e,n,r){n!==r&&(e.flags|=4)};function ns(t,e){if(!ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xv(t,e,n){var r=e.pendingProps;switch(Fu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return He(e.type)&&wi(),be(e),null;case 3:return r=e.stateNode,Mr(),se(Ze),se(Le),Ku(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Na(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vt!==null&&(ql(vt),vt=null))),Wl(t,e),be(e),null;case 5:Hu(e);var s=Fn(js.current);if(n=e.type,t!==null&&e.stateNode!=null)kp(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return be(e),null}if(t=Fn(Lt.current),Na(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[bt]=e,r[Ds]=a,t=(e.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(s=0;s<os.length;s++)re(os[s],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":Xc(r,a),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},re("invalid",r);break;case"textarea":Yc(r,a),re("invalid",r)}yl(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ta(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ta(r.textContent,o,t),s=["children",""+o]):Ps.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&re("scroll",r)}switch(n){case"input":Sa(r),qc(r,a,!0);break;case"textarea":Sa(r),ed(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=_i)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[bt]=e,t[Ds]=r,Sp(t,e,!1,!1),e.stateNode=t;e:{switch(i=vl(n,r),n){case"dialog":re("cancel",t),re("close",t),s=r;break;case"iframe":case"object":case"embed":re("load",t),s=r;break;case"video":case"audio":for(s=0;s<os.length;s++)re(os[s],t);s=r;break;case"source":re("error",t),s=r;break;case"img":case"image":case"link":re("error",t),re("load",t),s=r;break;case"details":re("toggle",t),s=r;break;case"input":Xc(t,r),s=fl(t,r),re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),re("invalid",t);break;case"textarea":Yc(t,r),s=ml(t,r),re("invalid",t);break;default:s=r}yl(n,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?th(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yf(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Is(t,l):typeof l=="number"&&Is(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ps.hasOwnProperty(a)?l!=null&&a==="onScroll"&&re("scroll",t):l!=null&&ku(t,a,l,i))}switch(n){case"input":Sa(t),qc(t,r,!1);break;case"textarea":Sa(t),ed(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wn(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Sr(t,!!r.multiple,a,!1):r.defaultValue!=null&&Sr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_i)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)Ep(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=Fn(js.current),Fn(Lt.current),Na(e)){if(r=e.stateNode,n=e.memoizedProps,r[bt]=e,(a=r.nodeValue!==n)&&(t=Ye,t!==null))switch(t.tag){case 3:Ta(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ta(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=e,e.stateNode=r}return be(e),null;case 13:if(se(ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ae&&qe!==null&&e.mode&1&&!(e.flags&128))Bh(),$r(),e.flags|=98560,a=!1;else if(a=Na(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(C(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(C(317));a[bt]=e}else $r(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),a=!1}else vt!==null&&(ql(vt),vt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?we===0&&(we=3):ac())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return Mr(),Wl(t,e),t===null&&Ls(e.stateNode.containerInfo),be(e),null;case 10:return Bu(e.type._context),be(e),null;case 17:return He(e.type)&&wi(),be(e),null;case 19:if(se(ue),a=e.memoizedState,a===null)return be(e),null;if(r=(e.flags&128)!==0,i=a.rendering,i===null)if(r)ns(a,!1);else{if(we!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Pi(t),i!==null){for(e.flags|=128,ns(a,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,t=i.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ne(ue,ue.current&1|2),e.child}t=t.sibling}a.tail!==null&&me()>Fr&&(e.flags|=128,r=!0,ns(a,!1),e.lanes=4194304)}else{if(!r)if(t=Pi(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ns(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ae)return be(e),null}else 2*me()-a.renderingStartTime>Fr&&n!==1073741824&&(e.flags|=128,r=!0,ns(a,!1),e.lanes=4194304);a.isBackwards?(i.sibling=e.child,e.child=i):(n=a.last,n!==null?n.sibling=i:e.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=me(),e.sibling=null,n=ue.current,ne(ue,r?n&1|2:n&1),e):(be(e),null);case 22:case 23:return sc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xe&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Sv(t,e){switch(Fu(e),e.tag){case 1:return He(e.type)&&wi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mr(),se(Ze),se(Le),Ku(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hu(e),null;case 13:if(se(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));$r()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(ue),null;case 4:return Mr(),null;case 10:return Bu(e.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var $a=!1,$e=!1,kv=typeof WeakSet=="function"?WeakSet:Set,$=null;function vr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(t,e,r)}else n.current=null}function Zl(t,e,n){try{n()}catch(r){fe(t,e,r)}}var Vd=!1;function Ev(t,e){if(Il=gi,t=Rh(),Mu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,l=-1,u=0,f=0,c=t,h=null;t:for(;;){for(var g;c!==n||s!==0&&c.nodeType!==3||(o=i+s),c!==a||r!==0&&c.nodeType!==3||(l=i+r),c.nodeType===3&&(i+=c.nodeValue.length),(g=c.firstChild)!==null;)h=c,c=g;for(;;){if(c===t)break t;if(h===n&&++u===s&&(o=i),h===a&&++f===r&&(l=i),(g=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rl={focusedElem:t,selectionRange:n},gi=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,m=e.stateNode,d=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:mt(e.type,v),x);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(_){fe(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return y=Vd,Vd=!1,y}function Ss(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&Zl(e,n,a)}s=s.next}while(s!==r)}}function to(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cp(t){var e=t.alternate;e!==null&&(t.alternate=null,Cp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bt],delete e[Ds],delete e[bl],delete e[iv],delete e[ov])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ap(t){return t.tag===5||t.tag===3||t.tag===4}function Wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_i));else if(r!==4&&(t=t.child,t!==null))for(Kl(t,e,n),t=t.sibling;t!==null;)Kl(t,e,n),t=t.sibling}function Ql(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ql(t,e,n),t=t.sibling;t!==null;)Ql(t,e,n),t=t.sibling}var Ce=null,yt=!1;function en(t,e,n){for(n=n.child;n!==null;)Pp(t,e,n),n=n.sibling}function Pp(t,e,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Ki,n)}catch{}switch(n.tag){case 5:$e||vr(n,e);case 6:var r=Ce,s=yt;Ce=null,en(t,e,n),Ce=r,yt=s,Ce!==null&&(yt?(t=Ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(yt?(t=Ce,n=n.stateNode,t.nodeType===8?jo(t.parentNode,n):t.nodeType===1&&jo(t,n),bs(t)):jo(Ce,n.stateNode));break;case 4:r=Ce,s=yt,Ce=n.stateNode.containerInfo,yt=!0,en(t,e,n),Ce=r,yt=s;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Zl(n,e,i),s=s.next}while(s!==r)}en(t,e,n);break;case 1:if(!$e&&(vr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){fe(n,e,o)}en(t,e,n);break;case 21:en(t,e,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,en(t,e,n),$e=r):en(t,e,n);break;default:en(t,e,n)}}function Zd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kv),e.forEach(function(r){var s=Ov.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ht(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=t,i=e,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ce=o.stateNode,yt=!1;break e;case 3:Ce=o.stateNode.containerInfo,yt=!0;break e;case 4:Ce=o.stateNode.containerInfo,yt=!0;break e}o=o.return}if(Ce===null)throw Error(C(160));Pp(a,i,s),Ce=null,yt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){fe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ip(e,t),e=e.sibling}function Ip(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ht(e,t),Pt(t),r&4){try{Ss(3,t,t.return),to(3,t)}catch(v){fe(t,t.return,v)}try{Ss(5,t,t.return)}catch(v){fe(t,t.return,v)}}break;case 1:ht(e,t),Pt(t),r&512&&n!==null&&vr(n,n.return);break;case 5:if(ht(e,t),Pt(t),r&512&&n!==null&&vr(n,n.return),t.flags&32){var s=t.stateNode;try{Is(s,"")}catch(v){fe(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,i=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Jf(s,a),vl(o,i);var u=vl(o,a);for(i=0;i<l.length;i+=2){var f=l[i],c=l[i+1];f==="style"?th(s,c):f==="dangerouslySetInnerHTML"?Yf(s,c):f==="children"?Is(s,c):ku(s,f,c,u)}switch(o){case"input":hl(s,a);break;case"textarea":Xf(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Sr(s,!!a.multiple,g,!1):h!==!!a.multiple&&(a.defaultValue!=null?Sr(s,!!a.multiple,a.defaultValue,!0):Sr(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ds]=a}catch(v){fe(t,t.return,v)}}break;case 6:if(ht(e,t),Pt(t),r&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(v){fe(t,t.return,v)}}break;case 3:if(ht(e,t),Pt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bs(e.containerInfo)}catch(v){fe(t,t.return,v)}break;case 4:ht(e,t),Pt(t);break;case 13:ht(e,t),Pt(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(nc=me())),r&4&&Zd(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?($e=(u=$e)||f,ht(e,t),$e=u):ht(e,t),Pt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for($=t,f=t.child;f!==null;){for(c=$=f;$!==null;){switch(h=$,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ss(4,h,h.return);break;case 1:vr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){fe(r,n,v)}}break;case 5:vr(h,h.return);break;case 22:if(h.memoizedState!==null){Kd(c);continue}}g!==null?(g.return=h,$=g):Kd(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{s=c.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=c.stateNode,l=c.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=eh("display",i))}catch(v){fe(t,t.return,v)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){fe(t,t.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ht(e,t),Pt(t),r&4&&Zd(t);break;case 21:break;default:ht(e,t),Pt(t)}}function Pt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ap(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Is(s,""),r.flags&=-33);var a=Wd(t);Ql(t,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,o=Wd(t);Kl(t,o,i);break;default:throw Error(C(161))}}catch(l){fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cv(t,e,n){$=t,Rp(t)}function Rp(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var s=$,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||$a;if(!i){var o=s.alternate,l=o!==null&&o.memoizedState!==null||$e;o=$a;var u=$e;if($a=i,($e=l)&&!u)for($=s;$!==null;)i=$,l=i.child,i.tag===22&&i.memoizedState!==null?Qd(s):l!==null?(l.return=i,$=l):Qd(s);for(;a!==null;)$=a,Rp(a),a=a.sibling;$=s,$a=o,$e=u}Hd(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,$=a):Hd(t)}}function Hd(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$e||to(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$e)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:mt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Td(e,a,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Td(e,i,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&bs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}$e||e.flags&512&&Hl(e)}catch(h){fe(e,e.return,h)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Kd(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Qd(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{to(4,e)}catch(l){fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){fe(e,s,l)}}var a=e.return;try{Hl(e)}catch(l){fe(e,a,l)}break;case 5:var i=e.return;try{Hl(e)}catch(l){fe(e,i,l)}}}catch(l){fe(e,e.return,l)}if(e===t){$=null;break}var o=e.sibling;if(o!==null){o.return=e.return,$=o;break}$=e.return}}var Av=Math.ceil,Ti=Yt.ReactCurrentDispatcher,ec=Yt.ReactCurrentOwner,ct=Yt.ReactCurrentBatchConfig,X=0,Ee=null,ge=null,Pe=0,Xe=0,_r=Pn(0),we=0,Vs=null,Hn=0,no=0,tc=0,ks=null,Ve=null,nc=0,Fr=1/0,Bt=null,Ni=!1,Gl=null,gn=null,La=!1,cn=null,bi=0,Es=0,Jl=null,ni=-1,ri=0;function Fe(){return X&6?me():ni!==-1?ni:ni=me()}function yn(t){return t.mode&1?X&2&&Pe!==0?Pe&-Pe:uv.transition!==null?(ri===0&&(ri=hh()),ri):(t=q,t!==0||(t=window.event,t=t===void 0?16:wh(t.type)),t):1}function St(t,e,n,r){if(50<Es)throw Es=0,Jl=null,Error(C(185));ia(t,n,r),(!(X&2)||t!==Ee)&&(t===Ee&&(!(X&2)&&(no|=n),we===4&&ln(t,Pe)),Ke(t,r),n===1&&X===0&&!(e.mode&1)&&(Fr=me()+500,qi&&In()))}function Ke(t,e){var n=t.callbackNode;uy(t,e);var r=mi(t,t===Ee?Pe:0);if(r===0)n!==null&&rd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rd(n),e===1)t.tag===0?lv(Gd.bind(null,t)):jh(Gd.bind(null,t)),sv(function(){!(X&6)&&In()}),n=null;else{switch(ph(r)){case 1:n=Iu;break;case 4:n=dh;break;case 16:n=pi;break;case 536870912:n=fh;break;default:n=pi}n=Dp(n,Tp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Tp(t,e){if(ni=-1,ri=0,X&6)throw Error(C(327));var n=t.callbackNode;if(Pr()&&t.callbackNode!==n)return null;var r=mi(t,t===Ee?Pe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oi(t,r);else{e=r;var s=X;X|=2;var a=bp();(Ee!==t||Pe!==e)&&(Bt=null,Fr=me()+500,zn(t,e));do try{Rv();break}catch(o){Np(t,o)}while(!0);Uu(),Ti.current=a,X=s,ge!==null?e=0:(Ee=null,Pe=0,e=we)}if(e!==0){if(e===2&&(s=kl(t),s!==0&&(r=s,e=Xl(t,s))),e===1)throw n=Vs,zn(t,0),ln(t,r),Ke(t,me()),n;if(e===6)ln(t,r);else{if(s=t.current.alternate,!(r&30)&&!Pv(s)&&(e=Oi(t,r),e===2&&(a=kl(t),a!==0&&(r=a,e=Xl(t,a))),e===1))throw n=Vs,zn(t,0),ln(t,r),Ke(t,me()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:$n(t,Ve,Bt);break;case 3:if(ln(t,r),(r&130023424)===r&&(e=nc+500-me(),10<e)){if(mi(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Fe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Nl($n.bind(null,t,Ve,Bt),e);break}$n(t,Ve,Bt);break;case 4:if(ln(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-xt(r);a=1<<i,i=e[i],i>s&&(s=i),r&=~a}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Av(r/1960))-r,10<r){t.timeoutHandle=Nl($n.bind(null,t,Ve,Bt),r);break}$n(t,Ve,Bt);break;case 5:$n(t,Ve,Bt);break;default:throw Error(C(329))}}}return Ke(t,me()),t.callbackNode===n?Tp.bind(null,t):null}function Xl(t,e){var n=ks;return t.current.memoizedState.isDehydrated&&(zn(t,e).flags|=256),t=Oi(t,e),t!==2&&(e=Ve,Ve=n,e!==null&&ql(e)),t}function ql(t){Ve===null?Ve=t:Ve.push.apply(Ve,t)}function Pv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Et(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ln(t,e){for(e&=~tc,e&=~no,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xt(e),r=1<<n;t[n]=-1,e&=~r}}function Gd(t){if(X&6)throw Error(C(327));Pr();var e=mi(t,0);if(!(e&1))return Ke(t,me()),null;var n=Oi(t,e);if(t.tag!==0&&n===2){var r=kl(t);r!==0&&(e=r,n=Xl(t,r))}if(n===1)throw n=Vs,zn(t,0),ln(t,e),Ke(t,me()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$n(t,Ve,Bt),Ke(t,me()),null}function rc(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(Fr=me()+500,qi&&In())}}function Kn(t){cn!==null&&cn.tag===0&&!(X&6)&&Pr();var e=X;X|=1;var n=ct.transition,r=q;try{if(ct.transition=null,q=1,t)return t()}finally{q=r,ct.transition=n,X=e,!(X&6)&&In()}}function sc(){Xe=_r.current,se(_r)}function zn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rv(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(Fu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wi();break;case 3:Mr(),se(Ze),se(Le),Ku();break;case 5:Hu(r);break;case 4:Mr();break;case 13:se(ue);break;case 19:se(ue);break;case 10:Bu(r.type._context);break;case 22:case 23:sc()}n=n.return}if(Ee=t,ge=t=vn(t.current,null),Pe=Xe=e,we=0,Vs=null,tc=no=Hn=0,Ve=ks=null,Dn!==null){for(e=0;e<Dn.length;e++)if(n=Dn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}Dn=null}return t}function Np(t,e){do{var n=ge;try{if(Uu(),Ya.current=Ri,Ii){for(var r=ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ii=!1}if(Zn=0,ke=_e=ce=null,xs=!1,zs=0,ec.current=null,n===null||n.return===null){we=1,Vs=e,ge=null;break}e:{var a=t,i=n.return,o=n,l=e;if(e=Pe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=o,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Md(i);if(g!==null){g.flags&=-257,Dd(g,i,o,a,e),g.mode&1&&Ld(a,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){Ld(a,u,e),ac();break e}l=Error(C(426))}}else if(ae&&o.mode&1){var x=Md(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Dd(x,i,o,a,e),ju(Dr(l,o));break e}}a=l=Dr(l,o),we!==4&&(we=2),ks===null?ks=[a]:ks.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var m=pp(a,l,e);Rd(a,m);break e;case 1:o=l;var d=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(gn===null||!gn.has(p)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=mp(a,o,e);Rd(a,_);break e}}a=a.return}while(a!==null)}$p(n)}catch(A){e=A,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function bp(){var t=Ti.current;return Ti.current=Ri,t===null?Ri:t}function ac(){(we===0||we===3||we===2)&&(we=4),Ee===null||!(Hn&268435455)&&!(no&268435455)||ln(Ee,Pe)}function Oi(t,e){var n=X;X|=2;var r=bp();(Ee!==t||Pe!==e)&&(Bt=null,zn(t,e));do try{Iv();break}catch(s){Np(t,s)}while(!0);if(Uu(),X=n,Ti.current=r,ge!==null)throw Error(C(261));return Ee=null,Pe=0,we}function Iv(){for(;ge!==null;)Op(ge)}function Rv(){for(;ge!==null&&!ey();)Op(ge)}function Op(t){var e=Mp(t.alternate,t,Xe);t.memoizedProps=t.pendingProps,e===null?$p(t):ge=e,ec.current=null}function $p(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Sv(n,e),n!==null){n.flags&=32767,ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{we=6,ge=null;return}}else if(n=xv(n,e,Xe),n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);we===0&&(we=5)}function $n(t,e,n){var r=q,s=ct.transition;try{ct.transition=null,q=1,Tv(t,e,n,r)}finally{ct.transition=s,q=r}return null}function Tv(t,e,n,r){do Pr();while(cn!==null);if(X&6)throw Error(C(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(cy(t,a),t===Ee&&(ge=Ee=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,Dp(pi,function(){return Pr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ct.transition,ct.transition=null;var i=q;q=1;var o=X;X|=4,ec.current=null,Ev(t,n),Ip(n,t),Jy(Rl),gi=!!Il,Rl=Il=null,t.current=n,Cv(n),ty(),X=o,q=i,ct.transition=a}else t.current=n;if(La&&(La=!1,cn=t,bi=s),a=t.pendingLanes,a===0&&(gn=null),sy(n.stateNode),Ke(t,me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ni)throw Ni=!1,t=Gl,Gl=null,t;return bi&1&&t.tag!==0&&Pr(),a=t.pendingLanes,a&1?t===Jl?Es++:(Es=0,Jl=t):Es=0,In(),null}function Pr(){if(cn!==null){var t=ph(bi),e=ct.transition,n=q;try{if(ct.transition=null,q=16>t?16:t,cn===null)var r=!1;else{if(t=cn,cn=null,bi=0,X&6)throw Error(C(331));var s=X;for(X|=4,$=t.current;$!==null;){var a=$,i=a.child;if($.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for($=u;$!==null;){var f=$;switch(f.tag){case 0:case 11:case 15:Ss(8,f,a)}var c=f.child;if(c!==null)c.return=f,$=c;else for(;$!==null;){f=$;var h=f.sibling,g=f.return;if(Cp(f),f===u){$=null;break}if(h!==null){h.return=g,$=h;break}$=g}}}var y=a.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}$=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,$=i;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ss(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,$=m;break e}$=a.return}}var d=t.current;for($=d;$!==null;){i=$;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,$=p;else e:for(i=d;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:to(9,o)}}catch(A){fe(o,o.return,A)}if(o===i){$=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,$=_;break e}$=o.return}}if(X=s,In(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Ki,t)}catch{}r=!0}return r}finally{q=n,ct.transition=e}}return!1}function Jd(t,e,n){e=Dr(n,e),e=pp(t,e,1),t=mn(t,e,1),e=Fe(),t!==null&&(ia(t,1,e),Ke(t,e))}function fe(t,e,n){if(t.tag===3)Jd(t,t,n);else for(;e!==null;){if(e.tag===3){Jd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){t=Dr(n,t),t=mp(e,t,1),e=mn(e,t,1),t=Fe(),e!==null&&(ia(e,1,t),Ke(e,t));break}}e=e.return}}function Nv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fe(),t.pingedLanes|=t.suspendedLanes&n,Ee===t&&(Pe&n)===n&&(we===4||we===3&&(Pe&130023424)===Pe&&500>me()-nc?zn(t,0):tc|=n),Ke(t,e)}function Lp(t,e){e===0&&(t.mode&1?(e=Ca,Ca<<=1,!(Ca&130023424)&&(Ca=4194304)):e=1);var n=Fe();t=Jt(t,e),t!==null&&(ia(t,e,n),Ke(t,n))}function bv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lp(t,n)}function Ov(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),Lp(t,n)}var Mp;Mp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ze.current)We=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return We=!1,wv(t,e,n);We=!!(t.flags&131072)}else We=!1,ae&&e.flags&1048576&&zh(e,ki,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ti(t,e),t=e.pendingProps;var s=Or(e,Le.current);Ar(e,n),s=Gu(null,e,r,t,s,n);var a=Ju();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,He(r)?(a=!0,xi(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wu(e),s.updater=eo,e.stateNode=s,s._reactInternals=e,Fl(e,r,t,n),e=Ul(null,e,r,!0,a,n)):(e.tag=0,ae&&a&&Du(e),De(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ti(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Lv(r),t=mt(r,t),s){case 0:e=zl(null,e,r,t,n);break e;case 1:e=zd(null,e,r,t,n);break e;case 11:e=Fd(null,e,r,t,n);break e;case 14:e=jd(null,e,r,mt(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mt(r,s),zl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mt(r,s),zd(t,e,r,s,n);case 3:e:{if(_p(e),t===null)throw Error(C(387));r=e.pendingProps,a=e.memoizedState,s=a.element,Hh(t,e),Ai(e,r,null,n);var i=e.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=Dr(Error(C(423)),e),e=Ud(t,e,r,n,s);break e}else if(r!==s){s=Dr(Error(C(424)),e),e=Ud(t,e,r,n,s);break e}else for(qe=pn(e.stateNode.containerInfo.firstChild),Ye=e,ae=!0,vt=null,n=Wh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($r(),r===s){e=Xt(t,e,n);break e}De(t,e,r,n)}e=e.child}return e;case 5:return Kh(e),t===null&&Ll(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Tl(r,s)?i=null:a!==null&&Tl(r,a)&&(e.flags|=32),vp(t,e),De(t,e,i,n),e.child;case 6:return t===null&&Ll(e),null;case 13:return wp(t,e,n);case 4:return Zu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lr(e,null,r,n):De(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mt(r,s),Fd(t,e,r,s,n);case 7:return De(t,e,e.pendingProps,n),e.child;case 8:return De(t,e,e.pendingProps.children,n),e.child;case 12:return De(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,a=e.memoizedProps,i=s.value,ne(Ei,r._currentValue),r._currentValue=i,a!==null)if(Et(a.value,i)){if(a.children===s.children&&!Ze.current){e=Xt(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Kt(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ml(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)i=a.type===e.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(C(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Ml(i,n,e),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===e){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}De(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ar(e,n),s=dt(s),r=r(s),e.flags|=1,De(t,e,r,n),e.child;case 14:return r=e.type,s=mt(r,e.pendingProps),s=mt(r.type,s),jd(t,e,r,s,n);case 15:return gp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mt(r,s),ti(t,e),e.tag=1,He(r)?(t=!0,xi(e)):t=!1,Ar(e,n),hp(e,r,s),Fl(e,r,s,n),Ul(null,e,r,!0,t,n);case 19:return xp(t,e,n);case 22:return yp(t,e,n)}throw Error(C(156,e.tag))};function Dp(t,e){return ch(t,e)}function $v(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(t,e,n,r){return new $v(t,e,n,r)}function ic(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lv(t){if(typeof t=="function")return ic(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cu)return 11;if(t===Au)return 14}return 2}function vn(t,e){var n=t.alternate;return n===null?(n=lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function si(t,e,n,r,s,a){var i=2;if(r=t,typeof t=="function")ic(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case ur:return Un(n.children,s,a,e);case Eu:i=8,s|=8;break;case ll:return t=lt(12,n,e,s|2),t.elementType=ll,t.lanes=a,t;case ul:return t=lt(13,n,e,s),t.elementType=ul,t.lanes=a,t;case cl:return t=lt(19,n,e,s),t.elementType=cl,t.lanes=a,t;case Kf:return ro(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zf:i=10;break e;case Hf:i=9;break e;case Cu:i=11;break e;case Au:i=14;break e;case sn:i=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=lt(i,n,e,s),e.elementType=t,e.type=r,e.lanes=a,e}function Un(t,e,n,r){return t=lt(7,t,r,e),t.lanes=n,t}function ro(t,e,n,r){return t=lt(22,t,r,e),t.elementType=Kf,t.lanes=n,t.stateNode={isHidden:!1},t}function Ko(t,e,n){return t=lt(6,t,null,e),t.lanes=n,t}function Qo(t,e,n){return e=lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mv(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Io(0),this.expirationTimes=Io(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Io(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function oc(t,e,n,r,s,a,i,o,l){return t=new Mv(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=lt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wu(a),t}function Dv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fp(t){if(!t)return xn;t=t._reactInternals;e:{if(qn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(He(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(He(n))return Fh(t,n,e)}return e}function jp(t,e,n,r,s,a,i,o,l){return t=oc(n,r,!0,t,s,a,i,o,l),t.context=Fp(null),n=t.current,r=Fe(),s=yn(n),a=Kt(r,s),a.callback=e??null,mn(n,a,s),t.current.lanes=s,ia(t,s,r),Ke(t,r),t}function so(t,e,n,r){var s=e.current,a=Fe(),i=yn(s);return n=Fp(n),e.context===null?e.context=n:e.pendingContext=n,e=Kt(a,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mn(s,e,i),t!==null&&(St(t,s,i,a),qa(t,s,i)),i}function $i(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lc(t,e){Xd(t,e),(t=t.alternate)&&Xd(t,e)}function Fv(){return null}var zp=typeof reportError=="function"?reportError:function(t){console.error(t)};function uc(t){this._internalRoot=t}ao.prototype.render=uc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));so(t,e,null,null)};ao.prototype.unmount=uc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kn(function(){so(null,t,null,null)}),e[Gt]=null}};function ao(t){this._internalRoot=t}ao.prototype.unstable_scheduleHydration=function(t){if(t){var e=yh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<on.length&&e!==0&&e<on[n].priority;n++);on.splice(n,0,t),n===0&&_h(t)}};function cc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function io(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qd(){}function jv(t,e,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=$i(i);a.call(u)}}var i=jp(e,r,t,0,null,!1,!1,"",qd);return t._reactRootContainer=i,t[Gt]=i.current,Ls(t.nodeType===8?t.parentNode:t),Kn(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=$i(l);o.call(u)}}var l=oc(t,0,!1,null,null,!1,!1,"",qd);return t._reactRootContainer=l,t[Gt]=l.current,Ls(t.nodeType===8?t.parentNode:t),Kn(function(){so(e,l,n,r)}),l}function oo(t,e,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var o=s;s=function(){var l=$i(i);o.call(l)}}so(e,i,t,s)}else i=jv(n,e,t,s,r);return $i(i)}mh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=is(e.pendingLanes);n!==0&&(Ru(e,n|1),Ke(e,me()),!(X&6)&&(Fr=me()+500,In()))}break;case 13:Kn(function(){var r=Jt(t,1);if(r!==null){var s=Fe();St(r,t,1,s)}}),lc(t,1)}};Tu=function(t){if(t.tag===13){var e=Jt(t,134217728);if(e!==null){var n=Fe();St(e,t,134217728,n)}lc(t,134217728)}};gh=function(t){if(t.tag===13){var e=yn(t),n=Jt(t,e);if(n!==null){var r=Fe();St(n,t,e,r)}lc(t,e)}};yh=function(){return q};vh=function(t,e){var n=q;try{return q=t,e()}finally{q=n}};wl=function(t,e,n){switch(e){case"input":if(hl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Xi(r);if(!s)throw Error(C(90));Gf(r),hl(r,s)}}}break;case"textarea":Xf(t,n);break;case"select":e=n.value,e!=null&&Sr(t,!!n.multiple,e,!1)}};sh=rc;ah=Kn;var zv={usingClientEntryPoint:!1,Events:[la,hr,Xi,nh,rh,rc]},rs={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uv={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lh(t),t===null?null:t.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||Fv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{Ki=Ma.inject(Uv),$t=Ma}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zv;nt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cc(e))throw Error(C(200));return Dv(t,e,null,n)};nt.createRoot=function(t,e){if(!cc(t))throw Error(C(299));var n=!1,r="",s=zp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=oc(t,1,!1,null,null,n,!1,r,s),t[Gt]=e.current,Ls(t.nodeType===8?t.parentNode:t),new uc(e)};nt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=lh(e),t=t===null?null:t.stateNode,t};nt.flushSync=function(t){return Kn(t)};nt.hydrate=function(t,e,n){if(!io(e))throw Error(C(200));return oo(null,t,e,!0,n)};nt.hydrateRoot=function(t,e,n){if(!cc(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=zp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=jp(e,null,t,1,n??null,s,!1,a,i),t[Gt]=e.current,Ls(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ao(e)};nt.render=function(t,e,n){if(!io(e))throw Error(C(200));return oo(null,t,e,!1,n)};nt.unmountComponentAtNode=function(t){if(!io(t))throw Error(C(40));return t._reactRootContainer?(Kn(function(){oo(null,null,t,!1,function(){t._reactRootContainer=null,t[Gt]=null})}),!0):!1};nt.unstable_batchedUpdates=rc;nt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!io(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return oo(t,e,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function Up(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Up)}catch(t){console.error(t)}}Up(),Uf.exports=nt;var Bv=Uf.exports,Yd=Bv;il.createRoot=Yd.createRoot,il.hydrateRoot=Yd.hydrateRoot;const Yl={API_KEY:"earth_agent_api_key",SETTINGS:"earth_agent_settings"},Vv=async t=>{try{if(typeof chrome>"u"||!chrome.storage||!chrome.storage.sync)throw console.warn("Chrome storage API is not available in saveApiKey"),new Error("Chrome storage API is not available");console.log("Saving API key to Chrome storage, length:",t.length),await chrome.storage.sync.set({[Yl.API_KEY]:t}),console.log("API key saved successfully")}catch(e){throw console.error("Error saving API key:",e),new Error("Failed to save API key")}},ca=async()=>{try{if(typeof chrome>"u"||!chrome.storage||!chrome.storage.sync)return console.warn("Chrome storage API is not available in getApiKey"),null;console.log("Retrieving API key from Chrome storage...");const e=(await chrome.storage.sync.get([Yl.API_KEY]))[Yl.API_KEY]||null;return console.log("API key retrieved from storage:",e?`length: ${e.length}`:"not found"),e}catch(t){return console.error("Error retrieving API key:",t),null}},Bp=async()=>{try{if(typeof chrome>"u"||!chrome.storage||!chrome.storage.sync)return console.warn("Chrome storage API is not available"),!1;const e=!!await ca();return console.log("API key is set:",e),e}catch(t){return console.error("Error checking if API key is set:",t),!1}},Vp=[{title:"ee.Image - Constructor",content:"Creates an earth engine image. The Image constructor accepts a variety of arguments: constant value, EE object, asset ID, array, array of arrays.",url:"https://developers.google.com/earth-engine/apidocs/ee-image",category:"Core",apiClass:"ee.Image",examples:["// Create a constant image.","var image = ee.Image(1);","// Create an image from an asset ID.","var image = ee.Image('LANDSAT/LC08/C02/T1_L2/LC08_044034_20210508');"]},{title:"ee.ImageCollection - Constructor",content:"Creates an earth engine image collection. The constructor accepts a variety of arguments: filter, list, asset ID, etc.",url:"https://developers.google.com/earth-engine/apidocs/ee-imagecollection",category:"Core",apiClass:"ee.ImageCollection",examples:["// Create an ImageCollection from an asset ID.","var collection = ee.ImageCollection('LANDSAT/LC08/C02/T1_L2');"]},{title:"ee.ImageCollection.filterDate",content:"Filter an image collection by date range. Accepts start and end dates as arguments.",url:"https://developers.google.com/earth-engine/apidocs/ee-imagecollection-filterdate",category:"Filtering",apiClass:"ee.ImageCollection",apiFunction:"filterDate",examples:["// Filter a collection by date.","var filtered = collection.filterDate('2021-01-01', '2021-12-31');"]},{title:"ee.Image.clip",content:"Clip an image to a geometry. Accepts a feature, feature collection, or geometry as an argument.",url:"https://developers.google.com/earth-engine/apidocs/ee-image-clip",category:"Image Processing",apiClass:"ee.Image",apiFunction:"clip",examples:["// Clip an image to a geometry.","var clipped = image.clip(geometry);"]},{title:"ee.Image.normalizedDifference",content:"Compute the normalized difference between two bands. This is often used for indices like NDVI.",url:"https://developers.google.com/earth-engine/apidocs/ee-image-normalizeddifference",category:"Image Processing",apiClass:"ee.Image",apiFunction:"normalizedDifference",examples:["// Compute NDVI from NIR and red bands.","var ndvi = image.normalizedDifference(['NIR', 'RED']);"]},{title:"ee.Reducer.mean",content:"Create a reducer that computes the mean of values. This is commonly used with reduceRegion or reduceNeighborhood.",url:"https://developers.google.com/earth-engine/apidocs/ee-reducer-mean",category:"Reducers",apiClass:"ee.Reducer",apiFunction:"mean",examples:["// Compute the mean value in a region.","var mean = image.reduceRegion({","  reducer: ee.Reducer.mean(),","  geometry: region,","  scale: 30","});"]},{title:"ee.Feature - Constructor",content:"Creates a feature with geometry and properties. Accepts various inputs, including a geometry and a property dictionary.",url:"https://developers.google.com/earth-engine/apidocs/ee-feature",category:"Vectors",apiClass:"ee.Feature",examples:["// Create a feature with a point geometry and properties.","var feature = ee.Feature(","  ee.Geometry.Point([-122.4, 37.8]),","  {name: 'San Francisco', population: 881000}",");"]},{title:"ee.FeatureCollection - Constructor",content:"Creates a feature collection. Accepts a list of features, a geometry, a computed object, or an asset ID.",url:"https://developers.google.com/earth-engine/apidocs/ee-featurecollection",category:"Vectors",apiClass:"ee.FeatureCollection",examples:["// Create a FeatureCollection from an asset ID.","var fc = ee.FeatureCollection('TIGER/2018/Counties');","// Filter the collection.","var filtered = fc.filter(ee.Filter.eq('STATEFP', '06'));"]},{title:"ee.Terrain.slope",content:"Compute the slope of a DEM image. Returns an image with the slope in degrees.",url:"https://developers.google.com/earth-engine/apidocs/ee-terrain-slope",category:"Terrain",apiClass:"ee.Terrain",apiFunction:"slope",examples:["// Load SRTM digital elevation model data.","var dem = ee.Image('USGS/SRTMGL1_003');","// Calculate slope.","var slope = ee.Terrain.slope(dem);","// Display the slope.","Map.addLayer(slope, {min: 0, max: 60}, 'slope');"]},{title:"ui.Map.addLayer",content:"Adds a layer to the map. Accepts an image, feature collection, or geometry, along with visualization parameters and a name.",url:"https://developers.google.com/earth-engine/apidocs/map-addlayer",category:"Visualization",apiClass:"ui.Map",apiFunction:"addLayer",examples:["// Add an image to the map.","Map.addLayer(image, {bands: ['B4', 'B3', 'B2'], min: 0, max: 3000}, 'Landsat');"]},{title:"ui.Chart.image.series",content:"Creates a chart from an image collection. Useful for time series analysis of image collections.",url:"https://developers.google.com/earth-engine/apidocs/ui-chart-image-series",category:"Visualization",apiClass:"ui.Chart.image",apiFunction:"series",examples:["// Create a time series chart of NDVI.","var chart = ui.Chart.image.series({","  imageCollection: ndviCollection,","  region: geometry,","  reducer: ee.Reducer.mean(),","  scale: 30","});"]}];function Wv(t,e){const n=t.toLowerCase(),r=n.split(/\W+/).filter(i=>i.length>2);let s=0;e.title.toLowerCase().includes(n)&&(s+=10),e.apiClass&&n.includes(e.apiClass.toLowerCase())&&(s+=8),e.apiFunction&&n.includes(e.apiFunction.toLowerCase())&&(s+=8);const a=e.content.toLowerCase();for(const i of r){const o=new RegExp(i,"g"),l=a.match(o);l&&(s+=l.length*.5)}if(e.examples){const i=e.examples.join(" ").toLowerCase();for(const o of r)i.includes(o)&&(s+=.3)}return s}function Zv(t,e=5){return Vp.map(r=>({doc:r,score:Wv(t,r)})).sort((r,s)=>s.score-r.score).filter(r=>r.score>0).slice(0,e).map(r=>r.doc)}function Wp(t,e){const n=Vp.filter(r=>r.apiClass===t&&(!e||r.apiFunction===e));return n.length>0?n[0]:null}function Hv(t,e){const n=Wp(t,e);return(n==null?void 0:n.examples)||[]}function Kv(t){const e=t.toLowerCase();return e.includes("ndvi")||e.includes("vegetation index")?`// Load Landsat 8 imagery
var landsat = ee.ImageCollection('LANDSAT/LC08/C02/T1_L2')
  .filterDate('2020-01-01', '2020-12-31')
  .filterBounds(geometry);

// Select the least cloudy image
var image = ee.Image(landsat.sort('CLOUD_COVER').first());

// Calculate NDVI
var nir = image.select('SR_B5');
var red = image.select('SR_B4');
var ndvi = nir.subtract(red).divide(nir.add(red)).rename('NDVI');

// Display the result
Map.centerObject(geometry, 10);
Map.addLayer(ndvi, {min: -0.2, max: 0.8, palette: ['brown', 'yellow', 'green']}, 'NDVI');`:e.includes("water")||e.includes("flood")?`// Load Sentinel-1 SAR imagery
var sentinel1 = ee.ImageCollection('COPERNICUS/S1_GRD')
  .filterDate('2020-01-01', '2020-12-31')
  .filterBounds(geometry)
  .filter(ee.Filter.eq('instrumentMode', 'IW'));

// Create a water mask using thresholding on VV band
var vvImage = sentinel1.select('VV').median();
var waterMask = vvImage.lt(-15);

// Add the layers to the map
Map.centerObject(geometry, 11);
Map.addLayer(vvImage, {min: -25, max: 0}, 'Sentinel-1 VV');
Map.addLayer(waterMask.mask(waterMask), {palette: ['blue']}, 'Water Mask');`:e.includes("land cover")||e.includes("landcover")?`// Load ESA WorldCover data
var worldcover = ee.ImageCollection('ESA/WorldCover/v100').first();

// Define visualization parameters
var visParams = {
  bands: ['Map'],
  min: 10,
  max: 110,
  palette: [
    '006400', '96ED69', 'FFBB22', 'F096FF', 'FA0000',
    'B4B4B4', 'F0F0F0', '0064C8', '0096A0', '00CF75',
    'FAE6A0'
  ]
};

// Add the layer to the map
Map.centerObject(geometry, 10);
Map.addLayer(worldcover, visParams, 'Land Cover');`:e.includes("time series")||e.includes("chart")?`// Load Landsat 8 imagery for a time series
var landsat = ee.ImageCollection('LANDSAT/LC08/C02/T1_L2')
  .filterDate('2018-01-01', '2022-12-31')
  .filterBounds(geometry);

// Create an NDVI collection
var ndviCollection = landsat.map(function(image) {
  var ndvi = image.normalizedDifference(['SR_B5', 'SR_B4']).rename('NDVI');
  return image.addBands(ndvi);
});

// Create a time series chart
var chart = ui.Chart.image.series({
  imageCollection: ndviCollection.select('NDVI'),
  region: geometry,
  reducer: ee.Reducer.mean(),
  scale: 30
}).setOptions({
  title: 'NDVI Time Series',
  vAxis: {title: 'NDVI'},
  hAxis: {title: 'Date', format: 'yyyy-MM-dd', gridlines: {count: 7}}
});

// Display the chart
print(chart);`:`// Load Landsat 8 imagery
var landsat = ee.ImageCollection('LANDSAT/LC08/C02/T1_L2')
  .filterDate('2020-01-01', '2020-12-31')
  .filterBounds(geometry)
  .sort('CLOUD_COVER')
  .first();

// Display true color image
var trueColor = {
  bands: ['SR_B4', 'SR_B3', 'SR_B2'],
  min: 7000,
  max: 30000
};

Map.centerObject(geometry, 10);
Map.addLayer(landsat, trueColor, 'Landsat True Color');`}const Da={search:Zv,getDocumentation:Wp,getExamples:Hv,generateCodeSnippet:Kv},sr=async(t,e)=>new Promise((n,r)=>{chrome.tabs.query({active:!0,currentWindow:!0},s=>{var a;if(!((a=s[0])!=null&&a.id)){r(new Error("No active tab found. Make sure you are on the Earth Engine Code Editor page."));return}chrome.tabs.sendMessage(s[0].id,{type:t,...e},i=>{if(chrome.runtime.lastError){r(new Error(chrome.runtime.lastError.message||"Could not communicate with Earth Engine. Make sure you are on the Earth Engine Code Editor page."));return}n(i)})})}),Qv=async(t,e)=>{console.log(`Searching for datasets matching: ${t}`),e&&console.log(`With timeframe filter: ${e.start||"any"} to ${e.end||"present"}`);try{try{const s=await fetch("https://raw.githubusercontent.com/samapriya/Earth-Engine-Datasets-List/refs/heads/master/gee_catalog.json");if(s.ok){const a=await s.json();console.log(`Loaded ${a.length} datasets from GitHub catalog`);const i=t.toLowerCase();let o=a.filter(l=>{const u=(l.id||"").toLowerCase(),f=(l.title||"").toLowerCase(),c=(l.description||"").toLowerCase(),h=(l.type||"").toLowerCase();return u.includes(i)||f.includes(i)||c.includes(i)||h.includes(i)});if(o=ef(o,e),console.log(`Found ${o.length} matching datasets in GitHub catalog`),o.length>0)return o.map(l=>{var u;return{id:l.id,name:l.id,title:l.title||l.id,description:l.title||"No description available",type:l.type||"Unknown",startDate:l.start_date||"",endDate:l.end_date||"",updateFrequency:l.update_frequency||"",provider:l.provider||"",gsd:l.gsd||"",source:"GitHub Catalog",asset_url:l.asset_url||`https://developers.google.com/earth-engine/datasets/catalog/${(u=l.id)==null?void 0:u.replace(/\//g,"_")}`,tags:l.tags||"",start_date:l.start_date||"",end_date:l.end_date||"",timeScore:l.timeScore}})}}catch(s){console.error("Error fetching from GitHub catalog:",s)}console.log("Falling back to Earth Engine API search"),await sr("SEARCH_DATASETS",{search:t});const n=await new Promise(s=>{const a=setTimeout(()=>{s([])},5e3),i=o=>{o.data&&o.data.type==="SEARCH_RESULTS"&&(clearTimeout(a),window.removeEventListener("message",i),s(o.data.results||[]))};window.addEventListener("message",i)});console.log(`Received ${n.length} datasets from Earth Engine search`);const r=n.map(s=>{var a;return{id:s.id,name:s.id,title:s.title||s.id,description:s.description||"No description available",type:s.type||"Unknown",startDate:s.startDate||"",endDate:s.endDate||"",updateFrequency:s.updateFrequency||"",provider:s.provider||"",gsd:s.gsd||"",source:"Earth Engine API",asset_url:`https://developers.google.com/earth-engine/datasets/catalog/${(a=s.id)==null?void 0:a.replace(/\//g,"_")}`}});return ef(r,e)}catch(n){return console.error("Error searching for datasets:",n),[]}},ef=(t,e)=>{if(!e)return t.sort((s,a)=>{const i=s.endDate||s.end_date||"",o=a.endDate||a.end_date||"";return i==="present"||i.includes("now")?-1:o==="present"||o.includes("now")?1:i>o?-1:i<o?1:0});const n=new Date().getFullYear().toString();return t.map(s=>{const a=s.startDate||s.start_date||"",i=s.endDate||s.end_date||"";let o=0;const l=a?a.substring(0,4):"",u=i&&!i.includes("present")&&!i.includes("now")?i.substring(0,4):n,f=e.start?e.start.substring(0,4):"",c=e.end?e.end.substring(0,4):n;if(f&&c)l&&u&&(l<=c&&u>=f||i==="present"||i.includes("now"))&&(o+=100,l<=f&&(u>=c||i==="present"||i.includes("now"))&&(o+=50),(i==="present"||i.includes("now"))&&(o+=20));else if(f)l&&l<=f&&(u>=f||i==="present"||i.includes("now"))&&(o+=100,(i==="present"||i.includes("now"))&&(o+=30));else if(i==="present"||i.includes("now")){if(o+=100,l){const h=parseInt(n)-parseInt(l);o+=Math.min(h,30)}}else if(u){const h=parseInt(n)-parseInt(u);o+=Math.max(0,100-h*10)}return{...s,timeScore:o}}).sort((s,a)=>a.timeScore-s.timeScore)},tf={databaseSearch:async(t,e)=>(console.log("Searching Earth Engine database for:",t),e&&console.log("With timeframe:",e),Qv(t,e)),runCode:async t=>{console.log("Running code in Earth Engine:",t);try{const e=await sr("RUN_CODE",{code:t});return{success:(e==null?void 0:e.success)||!1,message:(e==null?void 0:e.message)||"Code execution completed",executionTime:e==null?void 0:e.executionTime}}catch(e){return console.error("Error running code:",e),{success:!1,message:e instanceof Error?e.message:"Unknown error running code"}}},inspectMap:async t=>{console.log("Inspecting map at:",t);try{const e=await sr("INSPECT_MAP",{coordinates:t});return{success:(e==null?void 0:e.success)||!1,data:(e==null?void 0:e.data)||null,error:e==null?void 0:e.error}}catch(e){return console.error("Error inspecting map:",e),{success:!1,data:null,error:e instanceof Error?e.message:"Unknown error inspecting map"}}},checkConsole:async()=>{console.log("Checking Earth Engine console");try{const t=await sr("CHECK_CONSOLE",{});return{success:(t==null?void 0:t.success)||!1,errors:(t==null?void 0:t.errors)||[]}}catch(t){return console.error("Error checking console:",t),{success:!1,errors:[{level:"error",message:t instanceof Error?t.message:"Unknown error checking console"}]}}},getTasks:async()=>{console.log("Accessing Earth Engine tasks");try{const t=await sr("GET_TASKS",{});return{success:(t==null?void 0:t.success)||!1,tasks:(t==null?void 0:t.tasks)||[],error:t==null?void 0:t.error}}catch(t){return console.error("Error accessing tasks:",t),{success:!1,tasks:[],error:t instanceof Error?t.message:"Unknown error accessing tasks"}}},editScript:async(t,e)=>{console.log("Editing script in Earth Engine:",t);try{const n=await sr("EDIT_SCRIPT",{scriptId:t,content:e});return{success:(n==null?void 0:n.success)||!1,message:(n==null?void 0:n.message)||"Script edited successfully",error:n==null?void 0:n.error}}catch(n){return console.error("Error editing script:",n),{success:!1,message:"Failed to edit script",error:n instanceof Error?n.message:"Unknown error editing script"}}},searchDocumentation:async(t,e=!1)=>{console.log("Searching Earth Engine API documentation for:",t);try{const n=Da.search(t),r=e?Da.generateCodeSnippet(t):void 0;return{results:n,suggestedCode:r}}catch(n){return console.error("Error searching documentation:",n),{results:[]}}},getAPIExamples:async(t,e)=>(console.log(`Getting examples for ${t}${e?"."+e:""}`),Da.getExamples(t,e)),assessProblem:async t=>{if(console.log("Assessing problem feasibility:",t),!t)return{feasible:!1,explanation:"No query was provided. Please enter a valid request to analyze."};const e=Da.search(t),n=[];e.forEach(c=>{if(c.apiClass){const h=c.apiFunction?`${c.apiClass}.${c.apiFunction}`:c.apiClass;n.push(h)}});const r=t.toLowerCase(),s=["map","satellite","image","elevation","terrain","landsat","sentinel","modis","ndvi","vegetation","forest","water","land cover","temperature","climate","flood","drought","fire","urban","agriculture","time series","change","detection","glacier","snow","rainfall","precipitation","landslide","erosion","deforestation","reforestation","cropland"],a=["indoor","indoor map","street view","navigation","driving directions","traffic","restaurant","hotel","booking","flight","weather forecast","stock","market","exchange rate","currency","news","social media"];Object.entries({image:["ee.Image","ee.ImageCollection"],satellite:["ee.ImageCollection","ee.Image.visualize"],landsat:['ee.ImageCollection("LANDSAT/LC08/C02/T1_L2")','ee.ImageCollection("LANDSAT/LC09/C02/T1_L2")'],sentinel:['ee.ImageCollection("COPERNICUS/S2_SR")','ee.ImageCollection("COPERNICUS/S2")'],modis:['ee.ImageCollection("MODIS/006/MOD13Q1")','ee.ImageCollection("MODIS/006/MCD12Q1")'],ndvi:["image.normalizedDifference()","image.expression()"],vegetation:['ee.ImageCollection("MODIS/006/MOD13Q1")',"image.normalizedDifference()"],forest:['ee.ImageCollection("UMD/hansen/global_forest_change_2021_v1_9")','ee.ImageCollection("JAXA/ALOS/PALSAR/YEARLY/FNF")'],water:['ee.Image("JRC/GSW1_3/GlobalSurfaceWater")',"ee.Image.normalizedDifference()"],"land cover":['ee.ImageCollection("MODIS/006/MCD12Q1")','ee.ImageCollection("ESA/WorldCover/v100")'],temperature:['ee.ImageCollection("MODIS/006/MOD11A1")','ee.ImageCollection("NOAA/CFSV2/FOR6H")'],elevation:['ee.Image("USGS/SRTMGL1_003")',"ee.Terrain.slope"],terrain:["ee.Terrain",'ee.Image("USGS/SRTMGL1_003")'],"time series":["ee.ImageCollection.filterDate()","ui.Chart.image.series"]}).forEach(([c,h])=>{r.includes(c)&&n.push(...h)});const o=[...new Set(n)],l=s.some(c=>r.includes(c)),u=a.some(c=>r.includes(c)),f=e.length>=2;return(l||f)&&!u?{feasible:!0,explanation:"This task can be accomplished with Google Earth Engine.",suggestedApproach:"Use Earth Engine to analyze satellite imagery and geospatial data.",relevantAPIs:o.length>0?o:void 0}:u?{feasible:!1,explanation:"This task is not suitable for Google Earth Engine. Earth Engine is designed for geospatial analysis, not for this type of request."}:{feasible:!0,explanation:"This task might be accomplishable with Google Earth Engine, but I'm not completely sure based on your request.",suggestedApproach:"Let's try using Earth Engine to analyze geospatial data related to your query.",relevantAPIs:o.length>0?o:void 0}}},eu="RFC3986",tu={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},Gv="RFC1738",Jv=Array.isArray,It=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Go=1024,Xv=(t,e,n,r,s)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let i="";for(let o=0;o<a.length;o+=Go){const l=a.length>=Go?a.slice(o,o+Go):a,u=[];for(let f=0;f<l.length;++f){let c=l.charCodeAt(f);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===Gv&&(c===40||c===41)){u[u.length]=l.charAt(f);continue}if(c<128){u[u.length]=It[c];continue}if(c<2048){u[u.length]=It[192|c>>6]+It[128|c&63];continue}if(c<55296||c>=57344){u[u.length]=It[224|c>>12]+It[128|c>>6&63]+It[128|c&63];continue}f+=1,c=65536+((c&1023)<<10|l.charCodeAt(f)&1023),u[u.length]=It[240|c>>18]+It[128|c>>12&63]+It[128|c>>6&63]+It[128|c&63]}i+=u.join("")}return i};function qv(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function nf(t,e){if(Jv(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const Yv=Object.prototype.hasOwnProperty,Zp={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Tt=Array.isArray,e_=Array.prototype.push,Hp=function(t,e){e_.apply(t,Tt(e)?e:[e])},t_=Date.prototype.toISOString,ve={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Xv,encodeValuesOnly:!1,format:eu,formatter:tu[eu],indices:!1,serializeDate(t){return t_.call(t)},skipNulls:!1,strictNullHandling:!1};function n_(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Jo={};function Kp(t,e,n,r,s,a,i,o,l,u,f,c,h,g,y,v,x,m){let d=t,p=m,_=0,A=!1;for(;(p=p.get(Jo))!==void 0&&!A;){const P=p.get(t);if(_+=1,typeof P<"u"){if(P===_)throw new RangeError("Cyclic object value");A=!0}typeof p.get(Jo)>"u"&&(_=0)}if(typeof u=="function"?d=u(e,d):d instanceof Date?d=h==null?void 0:h(d):n==="comma"&&Tt(d)&&(d=nf(d,function(P){return P instanceof Date?h==null?void 0:h(P):P})),d===null){if(a)return l&&!v?l(e,ve.encoder,x,"key",g):e;d=""}if(n_(d)||qv(d)){if(l){const P=v?e:l(e,ve.encoder,x,"key",g);return[(y==null?void 0:y(P))+"="+(y==null?void 0:y(l(d,ve.encoder,x,"value",g)))]}return[(y==null?void 0:y(e))+"="+(y==null?void 0:y(String(d)))]}const E=[];if(typeof d>"u")return E;let S;if(n==="comma"&&Tt(d))v&&l&&(d=nf(d,l)),S=[{value:d.length>0?d.join(",")||null:void 0}];else if(Tt(u))S=u;else{const P=Object.keys(d);S=f?P.sort(f):P}const w=o?String(e).replace(/\./g,"%2E"):String(e),R=r&&Tt(d)&&d.length===1?w+"[]":w;if(s&&Tt(d)&&d.length===0)return R+"[]";for(let P=0;P<S.length;++P){const I=S[P],j=typeof I=="object"&&typeof I.value<"u"?I.value:d[I];if(i&&j===null)continue;const Q=c&&o?I.replace(/\./g,"%2E"):I,te=Tt(d)?typeof n=="function"?n(R,Q):R:R+(c?"."+Q:"["+Q+"]");m.set(t,_);const st=new WeakMap;st.set(Jo,m),Hp(E,Kp(j,te,n,r,s,a,i,o,n==="comma"&&v&&Tt(d)?null:l,u,f,c,h,g,y,v,x,st))}return E}function r_(t=ve){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||ve.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=eu;if(typeof t.format<"u"){if(!Yv.call(tu,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=tu[n];let s=ve.filter;(typeof t.filter=="function"||Tt(t.filter))&&(s=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in Zp?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=ve.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:ve.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ve.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ve.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ve.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?ve.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ve.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:ve.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:ve.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ve.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ve.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ve.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ve.strictNullHandling}}function s_(t,e={}){let n=t;const r=r_(e);let s,a;typeof r.filter=="function"?(a=r.filter,n=a("",n)):Tt(r.filter)&&(a=r.filter,s=a);const i=[];if(typeof n!="object"||n===null)return"";const o=Zp[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let h=0;h<s.length;++h){const g=s[h];r.skipNulls&&n[g]===null||Hp(i,Kp(n[g],g,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const f=i.join(r.delimiter);let c=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),f.length>0?c+f:""}const ar="4.95.1";let rf=!1,Cs,Qp,Gp,nu,Jp,Xp,qp,Yp,em;function a_(t,e={auto:!1}){if(rf)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Cs)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Cs}'\``);rf=e.auto,Cs=t.kind,Qp=t.fetch,Gp=t.FormData,nu=t.File,Jp=t.ReadableStream,Xp=t.getMultipartRequestOptions,qp=t.getDefaultAgent,Yp=t.fileFromPath,em=t.isFsReadStream}class i_{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function o_({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,a;try{n=fetch,r=Request,s=Response,a=Headers}catch(i){throw new Error(`this environment is missing the following Web Fetch API type: ${i.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(i,o)=>({...o,body:new i_(i)}),getDefaultAgent:i=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:i=>!1}}const tm=()=>{Cs||a_(o_(),{auto:!0})};tm();class z extends Error{}class Re extends z{constructor(e,n,r,s){super(`${Re.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const a=n;this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new lo({message:r,cause:su(n)});const a=n==null?void 0:n.error;return e===400?new nm(e,a,r,s):e===401?new rm(e,a,r,s):e===403?new sm(e,a,r,s):e===404?new am(e,a,r,s):e===409?new im(e,a,r,s):e===422?new om(e,a,r,s):e===429?new lm(e,a,r,s):e>=500?new um(e,a,r,s):new Re(e,a,r,s)}}class ut extends Re{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class lo extends Re{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class dc extends lo{constructor({message:e}={}){super({message:e??"Request timed out."})}}class nm extends Re{}class rm extends Re{}class sm extends Re{}class am extends Re{}class im extends Re{}class om extends Re{}class lm extends Re{}class um extends Re{}class cm extends z{constructor(){super("Could not parse response content as the length limit was reached")}}class dm extends z{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Fa=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},bn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ge;class uo{constructor(){Ge.set(this,void 0),this.buffer=new Uint8Array,Fa(this,Ge,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let a;for(;(a=l_(this.buffer,bn(this,Ge,"f")))!=null;){if(a.carriage&&bn(this,Ge,"f")==null){Fa(this,Ge,a.index,"f");continue}if(bn(this,Ge,"f")!=null&&(a.index!==bn(this,Ge,"f")+1||a.carriage)){s.push(this.decodeText(this.buffer.slice(0,bn(this,Ge,"f")-1))),this.buffer=this.buffer.slice(bn(this,Ge,"f")),Fa(this,Ge,null,"f");continue}const i=bn(this,Ge,"f")!==null?a.preceding-1:a.preceding,o=this.decodeText(this.buffer.slice(0,i));s.push(o),this.buffer=this.buffer.slice(a.index),Fa(this,Ge,null,"f")}return s}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new z(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new z(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new z("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Ge=new WeakMap;uo.NEWLINE_CHARS=new Set([`
`,"\r"]);uo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function l_(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function u_(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function fm(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Ot{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const i of c_(e,n))if(!a){if(i.data.startsWith("[DONE]")){a=!0;continue}if(i.event===null||i.event.startsWith("response.")||i.event.startsWith("transcript.")){let o;try{o=JSON.parse(i.data)}catch(l){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),l}if(o&&o.error)throw new Re(void 0,o.error,void 0,_m(e.headers));yield o}else{let o;try{o=JSON.parse(i.data)}catch(l){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),l}if(i.event=="error")throw new Re(void 0,o.error,o.message,void 0);yield{event:i.event,data:o}}}a=!0}catch(i){if(i instanceof Error&&i.name==="AbortError")return;throw i}finally{a||n.abort()}}return new Ot(s,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const i=new uo,o=fm(e);for await(const l of o)for(const u of i.decode(l))yield u;for(const l of i.flush())yield l}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of s())i||o&&(yield JSON.parse(o));i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new Ot(a,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=a=>({next:()=>{if(a.length===0){const i=r.next();e.push(i),n.push(i)}return a.shift()}});return[new Ot(()=>s(e),this.controller),new Ot(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new Jp({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:i}=await n.next();if(i)return s.close();const o=r.encode(JSON.stringify(a)+`
`);s.enqueue(o)}catch(a){s.error(a)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*c_(t,e){if(!t.body)throw e.abort(),new z("Attempted to iterate over a response with no body");const n=new f_,r=new uo,s=fm(t.body);for await(const a of d_(s))for(const i of r.decode(a)){const o=n.decode(i);o&&(yield o)}for(const a of r.flush()){const i=n.decode(a);i&&(yield i)}}async function*d_(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let a;for(;(a=u_(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class f_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=h_(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function h_(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const hm=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",pm=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&co(t),co=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",p_=t=>pm(t)||hm(t)||em(t);async function mm(t,e,n){var s;if(t=await t,pm(t))return t;if(hm(t)){const a=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const i=co(a)?[await a.arrayBuffer()]:[a];return new nu(i,e,n)}const r=await m_(t);if(e||(e=y_(t)??"unknown_file"),!(n!=null&&n.type)){const a=(s=r[0])==null?void 0:s.type;typeof a=="string"&&(n={...n,type:a})}return new nu(r,e,n)}async function m_(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(co(t))e.push(await t.arrayBuffer());else if(v_(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${g_(t)}`);return e}function g_(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function y_(t){var e;return Xo(t.name)||Xo(t.filename)||((e=Xo(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Xo=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},v_=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",sf=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",jr=async t=>{const e=await __(t.body);return Xp(e,t)},__=async t=>{const e=new Gp;return await Promise.all(Object.entries(t||{}).map(([n,r])=>ru(e,n,r))),e},ru=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(p_(n)){const r=await mm(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>ru(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>ru(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Ir={},w_=function(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},x_=function(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ja;tm();async function gm(t){var i;const{response:e}=t;if(t.options.stream)return _n("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Ot.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(i=n==null?void 0:n.split(";")[0])==null?void 0:i.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await e.json();return _n("response",e.status,e.url,e.headers,o),ym(o,e)}const a=await e.text();return _n("response",e.status,e.url,e.headers,a),a}function ym(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class fo extends Promise{constructor(e,n=gm){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new fo(this.responsePromise,async n=>ym(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class S_{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:a}){this.baseURL=e,this.maxRetries=qo("maxRetries",n),this.timeout=qo("timeout",r),this.httpAgent=s,this.fetch=a??Qp}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...P_(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${N_()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const a=s&&co(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:a}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var v;const r={...e},{method:s,path:a,query:i,headers:o={}}=r,l=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:sf(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,u=this.calculateContentLength(l),f=this.buildURL(a,i);"timeout"in r&&qo("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const c=r.httpAgent??this.httpAgent??qp(f),h=r.timeout+1e3;typeof((v=c==null?void 0:c.options)==null?void 0:v.timeout)=="number"&&h>(c.options.timeout??0)&&(c.options.timeout=h),this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const g=this.buildHeaders({options:r,headers:o,contentLength:u,retryCount:n});return{req:{method:s,...l&&{body:l},headers:g,...c&&{agent:c},signal:r.signal??null},url:f,timeout:r.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:s}){const a={};r&&(a["content-length"]=r);const i=this.defaultHeaders(e);return uf(a,i),uf(a,n),sf(e.body)&&Cs!=="node"&&delete a["content-type"],Ua(i,"x-stainless-retry-count")===void 0&&Ua(n,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(s)),Ua(i,"x-stainless-timeout")===void 0&&Ua(n,"x-stainless-timeout")===void 0&&e.timeout&&(a["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return Re.generate(e,n,r,s)}request(e,n=null){return new fo(this.makeRequest(e,n))}async makeRequest(e,n){var c,h;const r=await e,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:a,url:i,timeout:o}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(a,{url:i,options:r}),_n("request",i,r,a.headers),(c=r.signal)!=null&&c.aborted)throw new ut;const l=new AbortController,u=await this.fetchWithTimeout(i,a,o,l).catch(su);if(u instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new ut;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new dc:new lo({cause:u})}const f=_m(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const d=`retrying, ${n} attempts remaining`;return _n(`response (error; ${d})`,u.status,i,f),this.retryRequest(r,n,f)}const g=await u.text().catch(d=>su(d).message),y=I_(g),v=y?void 0:g;throw _n(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,i,f,v),this.makeStatusError(u.status,y,v,f)}return{response:u,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new k_(this,r,e)}buildURL(e,n){const r=T_(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return wm(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new z(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:a,...i}=n||{};a&&a.addEventListener("abort",()=>s.abort());const o=setTimeout(()=>s.abort(),r),l={signal:s.signal,...i};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const a=r==null?void 0:r["retry-after-ms"];if(a){const o=parseFloat(a);Number.isNaN(o)||(s=o)}const i=r==null?void 0:r["retry-after"];if(i&&!s){const o=parseFloat(i);Number.isNaN(o)?s=Date.parse(i)-Date.now():s=o*1e3}if(!(s&&0<=s&&s<60*1e3)){const o=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,o)}return await da(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,i=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return i*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ar}`}}class vm{constructor(e,n,r,s){ja.set(this,void 0),w_(this,ja,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new z("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[s,a]of r)e.url.searchParams.set(s,a);n.query=void 0,n.path=e.url.toString()}return await x_(this,ja,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(ja=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class k_ extends fo{constructor(e,n,r){super(n,async s=>new r(e,s.response,await gm(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const _m=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),E_={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},he=t=>typeof t=="object"&&t!==null&&!wm(t)&&Object.keys(t).every(e=>xm(E_,e)),C_=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":of(Deno.build.os),"X-Stainless-Arch":af(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":of(process.platform),"X-Stainless-Arch":af(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=A_();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function A_(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,a=r[2]||0,i=r[3]||0;return{browser:e,version:`${s}.${a}.${i}`}}}return null}const af=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",of=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let lf;const P_=()=>lf??(lf=C_()),I_=t=>{try{return JSON.parse(t)}catch{return}},R_=/^[a-z][a-z0-9+.-]*:/i,T_=t=>R_.test(t),da=t=>new Promise(e=>setTimeout(e,t)),qo=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new z(`${t} must be an integer`);if(e<0)throw new z(`${t} must be a positive integer`);return e},su=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},za=t=>{var e,n,r,s;if(typeof process<"u")return((e=Ir==null?void 0:Ir[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function wm(t){if(!t)return!0;for(const e in t)return!1;return!0}function xm(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function uf(t,e){for(const n in e){if(!xm(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}const cf=new Set(["authorization","api-key"]);function _n(t,...e){if(typeof process<"u"&&(Ir==null?void 0:Ir.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const a={...r,headers:{...r.headers}};for(const i in r.headers)cf.has(i.toLowerCase())&&(a.headers[i]="REDACTED");return a}let s=null;for(const a in r)cf.has(a.toLowerCase())&&(s??(s={...r}),s[a]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const N_=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),b_=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",O_=t=>typeof(t==null?void 0:t.get)=="function",Ua=(t,e)=>{var r;const n=e.toLowerCase();if(O_(t)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(a,i,o)=>i+o.toUpperCase());for(const a of[e,n,e.toUpperCase(),s]){const i=t.get(a);if(i)return i}}for(const[s,a]of Object.entries(t))if(s.toLowerCase()===n)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${e} header, using the first entry.`),a[0]):a},$_=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};function Yo(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class ho extends vm{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Te extends vm{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class H{constructor(e){this._client=e}}let Sm=class extends H{list(e,n={},r){return he(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,L_,{query:n,...r})}},po=class extends H{constructor(){super(...arguments),this.messages=new Sm(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return he(e)?this.list({},e):this._client.getAPIList("/chat/completions",mo,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class mo extends Te{}class L_ extends Te{}po.ChatCompletionsPage=mo;po.Messages=Sm;let go=class extends H{constructor(){super(...arguments),this.completions=new po(this._client)}};go.Completions=po;go.ChatCompletionsPage=mo;class km extends H{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class Em extends H{create(e,n){return this._client.post("/audio/transcriptions",jr({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}}))}}class Cm extends H{create(e,n){return this._client.post("/audio/translations",jr({body:e,...n,__metadata:{model:e.model}}))}}class fa extends H{constructor(){super(...arguments),this.transcriptions=new Em(this._client),this.translations=new Cm(this._client),this.speech=new km(this._client)}}fa.Transcriptions=Em;fa.Translations=Cm;fa.Speech=km;class fc extends H{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return he(e)?this.list({},e):this._client.getAPIList("/batches",hc,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class hc extends Te{}fc.BatchesPage=hc;class pc extends H{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return he(e)?this.list({},e):this._client.getAPIList("/assistants",mc,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class mc extends Te{}pc.AssistantsPage=mc;function df(t){return typeof t.parse=="function"}const Rr=t=>(t==null?void 0:t.role)==="assistant",Am=t=>(t==null?void 0:t.role)==="function",Pm=t=>(t==null?void 0:t.role)==="tool";var pt=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},ie=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},au,ai,ii,ls,us,oi,cs,zt,ds,Li,Mi,ir,Im;class gc{constructor(){au.add(this),this.controller=new AbortController,ai.set(this,void 0),ii.set(this,()=>{}),ls.set(this,()=>{}),us.set(this,void 0),oi.set(this,()=>{}),cs.set(this,()=>{}),zt.set(this,{}),ds.set(this,!1),Li.set(this,!1),Mi.set(this,!1),ir.set(this,!1),pt(this,ai,new Promise((e,n)=>{pt(this,ii,e,"f"),pt(this,ls,n,"f")}),"f"),pt(this,us,new Promise((e,n)=>{pt(this,oi,e,"f"),pt(this,cs,n,"f")}),"f"),ie(this,ai,"f").catch(()=>{}),ie(this,us,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},ie(this,au,"m",Im).bind(this))},0)}_connected(){this.ended||(ie(this,ii,"f").call(this),this._emit("connect"))}get ended(){return ie(this,ds,"f")}get errored(){return ie(this,Li,"f")}get aborted(){return ie(this,Mi,"f")}abort(){this.controller.abort()}on(e,n){return(ie(this,zt,"f")[e]||(ie(this,zt,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=ie(this,zt,"f")[e];if(!r)return this;const s=r.findIndex(a=>a.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(ie(this,zt,"f")[e]||(ie(this,zt,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{pt(this,ir,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){pt(this,ir,!0,"f"),await ie(this,us,"f")}_emit(e,...n){if(ie(this,ds,"f"))return;e==="end"&&(pt(this,ds,!0,"f"),ie(this,oi,"f").call(this));const r=ie(this,zt,"f")[e];if(r&&(ie(this,zt,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!ie(this,ir,"f")&&!(r!=null&&r.length)&&Promise.reject(s),ie(this,ls,"f").call(this,s),ie(this,cs,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!ie(this,ir,"f")&&!(r!=null&&r.length)&&Promise.reject(s),ie(this,ls,"f").call(this,s),ie(this,cs,"f").call(this,s),this._emit("end")}}_emitFinal(){}}ai=new WeakMap,ii=new WeakMap,ls=new WeakMap,us=new WeakMap,oi=new WeakMap,cs=new WeakMap,zt=new WeakMap,ds=new WeakMap,Li=new WeakMap,Mi=new WeakMap,ir=new WeakMap,au=new WeakSet,Im=function(e){if(pt(this,Li,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new ut),e instanceof ut)return pt(this,Mi,!0,"f"),this._emit("abort",e);if(e instanceof z)return this._emit("error",e);if(e instanceof Error){const n=new z(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new z(String(e)))};function yc(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function ha(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function M_(t,e){return!e||!Rm(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:vc(t,e)}function vc(t,e){const n=t.choices.map(r=>{var s;if(r.finish_reason==="length")throw new cm;if(r.finish_reason==="content_filter")throw new dm;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(a=>F_(e,a)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?D_(e,r.message.content):null}}});return{...t,choices:n}}function D_(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function F_(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(s=>{var a;return((a=s.function)==null?void 0:a.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:ha(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function j_(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(s=>{var a;return((a=s.function)==null?void 0:a.name)===e.function.name});return ha(n)||(n==null?void 0:n.function.strict)||!1}function Rm(t){var e;return yc(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>ha(n)||n.type==="function"&&n.function.strict===!0))??!1}function z_(t){for(const e of t??[]){if(e.type!=="function")throw new z(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new z(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Be=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Oe,iu,Di,ou,lu,uu,Tm,cu;const ff=10;class Nm extends gc{constructor(){super(...arguments),Oe.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(Am(e)||Pm(e))&&e.content)this._emit("functionCallResult",e.content);else if(Rr(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Rr(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new z("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Be(this,Oe,"m",iu).call(this)}async finalMessage(){return await this.done(),Be(this,Oe,"m",Di).call(this)}async finalFunctionCall(){return await this.done(),Be(this,Oe,"m",ou).call(this)}async finalFunctionCallResult(){return await this.done(),Be(this,Oe,"m",lu).call(this)}async totalUsage(){return await this.done(),Be(this,Oe,"m",uu).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Be(this,Oe,"m",Di).call(this);n&&this._emit("finalMessage",n);const r=Be(this,Oe,"m",iu).call(this);r&&this._emit("finalContent",r);const s=Be(this,Oe,"m",ou).call(this);s&&this._emit("finalFunctionCall",s);const a=Be(this,Oe,"m",lu).call(this);a!=null&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some(i=>i.usage)&&this._emit("totalUsage",Be(this,Oe,"m",uu).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Be(this,Oe,"m",Tm).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(vc(a,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var h;const s="function",{function_call:a="auto",stream:i,...o}=n,l=typeof a!="string"&&(a==null?void 0:a.name),{maxChatCompletions:u=ff}=r||{},f={};for(const g of n.functions)f[g.name||g.function.name]=g;const c=n.functions.map(g=>({name:g.name||g.function.name,parameters:g.parameters,description:g.description}));for(const g of n.messages)this._addMessage(g,!1);for(let g=0;g<u;++g){const v=(h=(await this._createChatCompletion(e,{...o,function_call:a,functions:c,messages:[...this.messages]},r)).choices[0])==null?void 0:h.message;if(!v)throw new z("missing message in ChatCompletion response");if(!v.function_call)return;const{name:x,arguments:m}=v.function_call,d=f[x];if(d){if(l&&l!==x){const E=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:x,content:E});continue}}else{const E=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${c.map(S=>JSON.stringify(S.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:x,content:E});continue}let p;try{p=df(d)?await d.parse(m):m}catch(E){this._addMessage({role:s,name:x,content:E instanceof Error?E.message:String(E)});continue}const _=await d.function(p,this),A=Be(this,Oe,"m",cu).call(this,_);if(this._addMessage({role:s,name:x,content:A}),l)return}}async _runTools(e,n,r){var g,y,v;const s="tool",{tool_choice:a="auto",stream:i,...o}=n,l=typeof a!="string"&&((g=a==null?void 0:a.function)==null?void 0:g.name),{maxChatCompletions:u=ff}=r||{},f=n.tools.map(x=>{if(ha(x)){if(!x.$callback)throw new z("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),c={};for(const x of f)x.type==="function"&&(c[x.function.name||x.function.function.name]=x.function);const h="tools"in n?f.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of n.messages)this._addMessage(x,!1);for(let x=0;x<u;++x){const d=(y=(await this._createChatCompletion(e,{...o,tool_choice:a,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:y.message;if(!d)throw new z("missing message in ChatCompletion response");if(!((v=d.tool_calls)!=null&&v.length))return;for(const p of d.tool_calls){if(p.type!=="function")continue;const _=p.id,{name:A,arguments:E}=p.function,S=c[A];if(S){if(l&&l!==A){const I=`Invalid tool_call: ${JSON.stringify(A)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:_,content:I});continue}}else{const I=`Invalid tool_call: ${JSON.stringify(A)}. Available options are: ${Object.keys(c).map(j=>JSON.stringify(j)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:_,content:I});continue}let w;try{w=df(S)?await S.parse(E):E}catch(I){const j=I instanceof Error?I.message:String(I);this._addMessage({role:s,tool_call_id:_,content:j});continue}const R=await S.function(w,this),P=Be(this,Oe,"m",cu).call(this,R);if(this._addMessage({role:s,tool_call_id:_,content:P}),l)return}}}}Oe=new WeakSet,iu=function(){return Be(this,Oe,"m",Di).call(this).content??null},Di=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Rr(n)){const{function_call:r,...s}=n,a={...s,content:n.content??null,refusal:n.refusal??null};return r&&(a.function_call=r),a}}throw new z("stream ended without producing a ChatCompletionMessage with role=assistant")},ou=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Rr(s)&&(s!=null&&s.function_call))return s.function_call;if(Rr(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},lu=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Am(n)&&n.content!=null||Pm(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(a=>a.type==="function"&&a.id===n.tool_call_id))}))return n.content}},uu=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},Tm=function(e){if(e.n!=null&&e.n>1)throw new z("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},cu=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Ws extends Nm{static runFunctions(e,n,r){const s=new Ws,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,a)),s}static runTools(e,n,r){const s=new Ws,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,a)),s}_addMessage(e,n=!0){super._addMessage(e,n),Rr(e)&&e.content&&this._emit("content",e.content)}}const bm=1,Om=2,$m=4,Lm=8,Mm=16,Dm=32,Fm=64,jm=128,zm=256,Um=jm|zm,Bm=Mm|Dm|Um|Fm,Vm=bm|Om|Bm,Wm=$m|Lm,U_=Vm|Wm,Se={STR:bm,NUM:Om,ARR:$m,OBJ:Lm,NULL:Mm,BOOL:Dm,NAN:Fm,INFINITY:jm,MINUS_INFINITY:zm,INF:Um,SPECIAL:Bm,ATOM:Vm,COLLECTION:Wm,ALL:U_};class B_ extends Error{}class V_ extends Error{}function W_(t,e=Se.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Z_(t.trim(),e)}const Z_=(t,e)=>{const n=t.length;let r=0;const s=h=>{throw new B_(`${h} at position ${r}`)},a=h=>{throw new V_(`${h} at position ${r}`)},i=()=>(c(),r>=n&&s("Unexpected end of input"),t[r]==='"'?o():t[r]==="{"?l():t[r]==="["?u():t.substring(r,r+4)==="null"||Se.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Se.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Se.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Se.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Se.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Se.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):f()),o=()=>{const h=r;let g=!1;for(r++;r<n&&(t[r]!=='"'||g&&t[r-1]==="\\");)g=t[r]==="\\"?!g:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(h,++r-Number(g)))}catch(y){a(String(y))}else if(Se.STR&e)try{return JSON.parse(t.substring(h,r-Number(g))+'"')}catch{return JSON.parse(t.substring(h,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,c();const h={};try{for(;t[r]!=="}";){if(c(),r>=n&&Se.OBJ&e)return h;const g=o();c(),r++;try{const y=i();Object.defineProperty(h,g,{value:y,writable:!0,enumerable:!0,configurable:!0})}catch(y){if(Se.OBJ&e)return h;throw y}c(),t[r]===","&&r++}}catch{if(Se.OBJ&e)return h;s("Expected '}' at end of object")}return r++,h},u=()=>{r++;const h=[];try{for(;t[r]!=="]";)h.push(i()),c(),t[r]===","&&r++}catch{if(Se.ARR&e)return h;s("Expected ']' at end of array")}return r++,h},f=()=>{if(r===0){t==="-"&&Se.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(g){if(Se.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(g))}}const h=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Se.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(h,r))}catch{t.substring(h,r)==="-"&&Se.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(h,t.lastIndexOf("e")))}catch(y){a(String(y))}}},c=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return i()},hf=t=>W_(t,Se.ALL^Se.NUM);var er=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Y=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ye,jt,tr,tn,el,Ba,tl,nl,rl,Va,sl,pf;class Zs extends Nm{constructor(e){super(),ye.add(this),jt.set(this,void 0),tr.set(this,void 0),tn.set(this,void 0),er(this,jt,e,"f"),er(this,tr,[],"f")}get currentChatCompletionSnapshot(){return Y(this,tn,"f")}static fromReadableStream(e){const n=new Zs(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new Zs(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var i;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Y(this,ye,"m",el).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of a)Y(this,ye,"m",tl).call(this,o);if((i=a.controller.signal)!=null&&i.aborted)throw new ut;return this._addChatCompletion(Y(this,ye,"m",Va).call(this))}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Y(this,ye,"m",el).call(this),this._connected();const s=Ot.fromReadableStream(e,this.controller);let a;for await(const o of s)a&&a!==o.id&&this._addChatCompletion(Y(this,ye,"m",Va).call(this)),Y(this,ye,"m",tl).call(this,o),a=o.id;if((i=s.controller.signal)!=null&&i.aborted)throw new ut;return this._addChatCompletion(Y(this,ye,"m",Va).call(this))}[(jt=new WeakMap,tr=new WeakMap,tn=new WeakMap,ye=new WeakSet,el=function(){this.ended||er(this,tn,void 0,"f")},Ba=function(n){let r=Y(this,tr,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Y(this,tr,"f")[n.index]=r,r)},tl=function(n){var s,a,i,o,l,u,f,c,h,g,y,v,x,m,d;if(this.ended)return;const r=Y(this,ye,"m",pf).call(this,n);this._emit("chunk",n,r);for(const p of n.choices){const _=r.choices[p.index];p.delta.content!=null&&((s=_.message)==null?void 0:s.role)==="assistant"&&((a=_.message)!=null&&a.content)&&(this._emit("content",p.delta.content,_.message.content),this._emit("content.delta",{delta:p.delta.content,snapshot:_.message.content,parsed:_.message.parsed})),p.delta.refusal!=null&&((i=_.message)==null?void 0:i.role)==="assistant"&&((o=_.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:p.delta.refusal,snapshot:_.message.refusal}),((l=p.logprobs)==null?void 0:l.content)!=null&&((u=_.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(f=p.logprobs)==null?void 0:f.content,snapshot:((c=_.logprobs)==null?void 0:c.content)??[]}),((h=p.logprobs)==null?void 0:h.refusal)!=null&&((g=_.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(y=p.logprobs)==null?void 0:y.refusal,snapshot:((v=_.logprobs)==null?void 0:v.refusal)??[]});const A=Y(this,ye,"m",Ba).call(this,_);_.finish_reason&&(Y(this,ye,"m",rl).call(this,_),A.current_tool_call_index!=null&&Y(this,ye,"m",nl).call(this,_,A.current_tool_call_index));for(const E of p.delta.tool_calls??[])A.current_tool_call_index!==E.index&&(Y(this,ye,"m",rl).call(this,_),A.current_tool_call_index!=null&&Y(this,ye,"m",nl).call(this,_,A.current_tool_call_index)),A.current_tool_call_index=E.index;for(const E of p.delta.tool_calls??[]){const S=(x=_.message.tool_calls)==null?void 0:x[E.index];S!=null&&S.type&&((S==null?void 0:S.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(m=S.function)==null?void 0:m.name,index:E.index,arguments:S.function.arguments,parsed_arguments:S.function.parsed_arguments,arguments_delta:((d=E.function)==null?void 0:d.arguments)??""}):(S==null||S.type,void 0))}}},nl=function(n,r){var i,o,l;if(Y(this,ye,"m",Ba).call(this,n).done_tool_calls.has(r))return;const a=(i=n.message.tool_calls)==null?void 0:i[r];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=(l=(o=Y(this,jt,"f"))==null?void 0:o.tools)==null?void 0:l.find(f=>f.type==="function"&&f.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:r,arguments:a.function.arguments,parsed_arguments:ha(u)?u.$parseRaw(a.function.arguments):u!=null&&u.function.strict?JSON.parse(a.function.arguments):null})}else a.type},rl=function(n){var s,a;const r=Y(this,ye,"m",Ba).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const i=Y(this,ye,"m",sl).call(this);this._emit("content.done",{content:n.message.content,parsed:i?i.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(a=n.logprobs)!=null&&a.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Va=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");const n=Y(this,tn,"f");if(!n)throw new z("request ended without sending any chunks");return er(this,tn,void 0,"f"),er(this,tr,[],"f"),H_(n,Y(this,jt,"f"))},sl=function(){var r;const n=(r=Y(this,jt,"f"))==null?void 0:r.response_format;return yc(n)?n:null},pf=function(n){var r,s,a,i;let o=Y(this,tn,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=er(this,tn,{...u,choices:[]},"f");for(const{delta:f,finish_reason:c,index:h,logprobs:g=null,...y}of n.choices){let v=o.choices[h];if(v||(v=o.choices[h]={finish_reason:c,index:h,message:{},logprobs:g,...y}),g)if(!v.logprobs)v.logprobs=Object.assign({},g);else{const{content:E,refusal:S,...w}=g;Object.assign(v.logprobs,w),E&&((r=v.logprobs).content??(r.content=[]),v.logprobs.content.push(...E)),S&&((s=v.logprobs).refusal??(s.refusal=[]),v.logprobs.refusal.push(...S))}if(c&&(v.finish_reason=c,Y(this,jt,"f")&&Rm(Y(this,jt,"f")))){if(c==="length")throw new cm;if(c==="content_filter")throw new dm}if(Object.assign(v,y),!f)continue;const{content:x,refusal:m,function_call:d,role:p,tool_calls:_,...A}=f;if(Object.assign(v.message,A),m&&(v.message.refusal=(v.message.refusal||"")+m),p&&(v.message.role=p),d&&(v.message.function_call?(d.name&&(v.message.function_call.name=d.name),d.arguments&&((a=v.message.function_call).arguments??(a.arguments=""),v.message.function_call.arguments+=d.arguments)):v.message.function_call=d),x&&(v.message.content=(v.message.content||"")+x,!v.message.refusal&&Y(this,ye,"m",sl).call(this)&&(v.message.parsed=hf(v.message.content))),_){v.message.tool_calls||(v.message.tool_calls=[]);for(const{index:E,id:S,type:w,function:R,...P}of _){const I=(i=v.message.tool_calls)[E]??(i[E]={});Object.assign(I,P),S&&(I.id=S),w&&(I.type=w),R&&(I.function??(I.function={name:R.name??"",arguments:""})),R!=null&&R.name&&(I.function.name=R.name),R!=null&&R.arguments&&(I.function.arguments+=R.arguments,j_(Y(this,jt,"f"),I)&&(I.function.parsed_arguments=hf(I.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const a=n.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>n.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ot(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function H_(t,e){const{id:n,choices:r,created:s,model:a,system_fingerprint:i,...o}=t,l={...o,id:n,choices:r.map(({message:u,finish_reason:f,index:c,logprobs:h,...g})=>{if(!f)throw new z(`missing finish_reason for choice ${c}`);const{content:y=null,function_call:v,tool_calls:x,...m}=u,d=u.role;if(!d)throw new z(`missing role for choice ${c}`);if(v){const{arguments:p,name:_}=v;if(p==null)throw new z(`missing function_call.arguments for choice ${c}`);if(!_)throw new z(`missing function_call.name for choice ${c}`);return{...g,message:{content:y,function_call:{arguments:p,name:_},role:d,refusal:u.refusal??null},finish_reason:f,index:c,logprobs:h}}return x?{...g,index:c,finish_reason:f,logprobs:h,message:{...m,role:d,content:y,refusal:u.refusal??null,tool_calls:x.map((p,_)=>{const{function:A,type:E,id:S,...w}=p,{arguments:R,name:P,...I}=A||{};if(S==null)throw new z(`missing choices[${c}].tool_calls[${_}].id
${Wa(t)}`);if(E==null)throw new z(`missing choices[${c}].tool_calls[${_}].type
${Wa(t)}`);if(P==null)throw new z(`missing choices[${c}].tool_calls[${_}].function.name
${Wa(t)}`);if(R==null)throw new z(`missing choices[${c}].tool_calls[${_}].function.arguments
${Wa(t)}`);return{...w,id:S,type:E,function:{...I,name:P,arguments:R}}})}}:{...g,message:{...m,content:y,role:d,refusal:u.refusal??null},finish_reason:f,index:c,logprobs:h}}),created:s,model:a,object:"chat.completion",...i?{system_fingerprint:i}:{}};return M_(l,e)}function Wa(t){return JSON.stringify(t)}class Tr extends Zs{static fromReadableStream(e){const n=new Tr(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const s=new Tr(null),a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,a)),s}static runTools(e,n,r){const s=new Tr(n),a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,a)),s}}let Zm=class extends H{parse(e,n){return z_(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>vc(r,e))}runFunctions(e,n){return e.stream?Tr.runFunctions(this._client,e,n):Ws.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?Tr.runTools(this._client,e,n):Ws.runTools(this._client,e,n)}stream(e,n){return Zs.createChatCompletion(this._client,e,n)}};class du extends H{constructor(){super(...arguments),this.completions=new Zm(this._client)}}(function(t){t.Completions=Zm})(du||(du={}));class Hm extends H{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Km extends H{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class yo extends H{constructor(){super(...arguments),this.sessions=new Hm(this._client),this.transcriptionSessions=new Km(this._client)}}yo.Sessions=Hm;yo.TranscriptionSessions=Km;var M=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Qe=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Ae,fu,Nt,li,gt,jn,wr,Ln,Fi,Je,ui,ci,As,fs,hs,mf,gf,yf,vf,_f,wf,xf;class _t extends gc{constructor(){super(...arguments),Ae.add(this),fu.set(this,[]),Nt.set(this,{}),li.set(this,{}),gt.set(this,void 0),jn.set(this,void 0),wr.set(this,void 0),Ln.set(this,void 0),Fi.set(this,void 0),Je.set(this,void 0),ui.set(this,void 0),ci.set(this,void 0),As.set(this,void 0)}[(fu=new WeakMap,Nt=new WeakMap,li=new WeakMap,gt=new WeakMap,jn=new WeakMap,wr=new WeakMap,Ln=new WeakMap,Fi=new WeakMap,Je=new WeakMap,ui=new WeakMap,ci=new WeakMap,As=new WeakMap,Ae=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>n.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new _t;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Ot.fromReadableStream(e,this.controller);for await(const i of s)M(this,Ae,"m",fs).call(this,i);if((a=s.controller.signal)!=null&&a.aborted)throw new ut;return this._addRun(M(this,Ae,"m",hs).call(this))}toReadableStream(){return new Ot(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s,a){const i=new _t;return i._run(()=>i._runToolAssistantStream(e,n,r,s,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,n,r,s,a){var u;const i=a==null?void 0:a.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},l=await e.submitToolOutputs(n,r,o,{...a,signal:this.controller.signal});this._connected();for await(const f of l)M(this,Ae,"m",fs).call(this,f);if((u=l.controller.signal)!=null&&u.aborted)throw new ut;return this._addRun(M(this,Ae,"m",hs).call(this))}static createThreadAssistantStream(e,n,r){const s=new _t;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const a=new _t;return a._run(()=>a._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return M(this,ui,"f")}currentRun(){return M(this,ci,"f")}currentMessageSnapshot(){return M(this,gt,"f")}currentRunStepSnapshot(){return M(this,As,"f")}async finalRunSteps(){return await this.done(),Object.values(M(this,Nt,"f"))}async finalMessages(){return await this.done(),Object.values(M(this,li,"f"))}async finalRun(){if(await this.done(),!M(this,jn,"f"))throw Error("Final run was not received.");return M(this,jn,"f")}async _createThreadAssistantStream(e,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},i=await e.createAndRun(a,{...r,signal:this.controller.signal});this._connected();for await(const l of i)M(this,Ae,"m",fs).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new ut;return this._addRun(M(this,Ae,"m",hs).call(this))}async _createAssistantStream(e,n,r,s){var l;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},o=await e.create(n,i,{...s,signal:this.controller.signal});this._connected();for await(const u of o)M(this,Ae,"m",fs).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new ut;return this._addRun(M(this,Ae,"m",hs).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let a=e[r];if(a==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof a=="string"&&typeof s=="string")a+=s;else if(typeof a=="number"&&typeof s=="number")a+=s;else if(Yo(a)&&Yo(s))a=this.accumulateDelta(a,s);else if(Array.isArray(a)&&Array.isArray(s)){if(a.every(i=>typeof i=="string"||typeof i=="number")){a.push(...s);continue}for(const i of s){if(!Yo(i))throw new Error(`Expected array delta entry to be an object but got: ${i}`);const o=i.index;if(o==null)throw console.error(i),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=a[o];l==null?a.push(i):a[o]=this.accumulateDelta(l,i)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${a}`);e[r]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s,a){return await this._createToolAssistantStream(r,e,n,s,a)}}fs=function(e){if(!this.ended)switch(Qe(this,ui,e,"f"),M(this,Ae,"m",yf).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":M(this,Ae,"m",xf).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":M(this,Ae,"m",gf).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":M(this,Ae,"m",mf).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},hs=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");if(!M(this,jn,"f"))throw Error("Final run has not been received");return M(this,jn,"f")},mf=function(e){const[n,r]=M(this,Ae,"m",_f).call(this,e,M(this,gt,"f"));Qe(this,gt,n,"f"),M(this,li,"f")[n.id]=n;for(const s of r){const a=n.content[s.index];(a==null?void 0:a.type)=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let a=s.text,i=n.content[s.index];if(i&&i.type=="text")this._emit("textDelta",a,i.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=M(this,wr,"f")){if(M(this,Ln,"f"))switch(M(this,Ln,"f").type){case"text":this._emit("textDone",M(this,Ln,"f").text,M(this,gt,"f"));break;case"image_file":this._emit("imageFileDone",M(this,Ln,"f").image_file,M(this,gt,"f"));break}Qe(this,wr,s.index,"f")}Qe(this,Ln,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(M(this,wr,"f")!==void 0){const s=e.data.content[M(this,wr,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,M(this,gt,"f"));break;case"text":this._emit("textDone",s.text,M(this,gt,"f"));break}}M(this,gt,"f")&&this._emit("messageDone",e.data),Qe(this,gt,void 0,"f")}},gf=function(e){const n=M(this,Ae,"m",vf).call(this,e);switch(Qe(this,As,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of r.step_details.tool_calls)a.index==M(this,Fi,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(M(this,Je,"f")&&this._emit("toolCallDone",M(this,Je,"f")),Qe(this,Fi,a.index,"f"),Qe(this,Je,n.step_details.tool_calls[a.index],"f"),M(this,Je,"f")&&this._emit("toolCallCreated",M(this,Je,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Qe(this,As,void 0,"f"),e.data.step_details.type=="tool_calls"&&M(this,Je,"f")&&(this._emit("toolCallDone",M(this,Je,"f")),Qe(this,Je,void 0,"f")),this._emit("runStepDone",e.data,n);break}},yf=function(e){M(this,fu,"f").push(e),this._emit("event",e)},vf=function(e){switch(e.event){case"thread.run.step.created":return M(this,Nt,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=M(this,Nt,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=_t.accumulateDelta(n,r.delta);M(this,Nt,"f")[e.data.id]=s}return M(this,Nt,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":M(this,Nt,"f")[e.data.id]=e.data;break}if(M(this,Nt,"f")[e.data.id])return M(this,Nt,"f")[e.data.id];throw new Error("No snapshot available")},_f=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const a of s.delta.content)if(a.index in n.content){let i=n.content[a.index];n.content[a.index]=M(this,Ae,"m",wf).call(this,a,i)}else n.content[a.index]=a,r.push(a);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},wf=function(e,n){return _t.accumulateDelta(n,e)},xf=function(e){switch(Qe(this,ci,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Qe(this,jn,e.data,"f"),M(this,Je,"f")&&(this._emit("toolCallDone",M(this,Je,"f")),Qe(this,Je,void 0,"f"));break}};class _c extends H{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return he(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,wc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class wc extends Te{}_c.MessagesPage=wc;class xc extends H{retrieve(e,n,r,s={},a){return he(s)?this.retrieve(e,n,r,{},s):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,n,r={},s){return he(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,Sc,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Sc extends Te{}xc.RunStepsPage=Sc;let pa=class extends H{constructor(){super(...arguments),this.steps=new xc(this._client)}create(e,n,r){const{include:s,...a}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return he(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,kc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}createAndStream(e,n,r){return _t.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:a,response:i}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=i.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await da(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,r){return _t.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,s){const a=await this.submitToolOutputs(e,n,r,s);return await this.poll(e,a.id,s)}submitToolOutputsStream(e,n,r,s){return _t.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,s)}};class kc extends Te{}pa.RunsPage=kc;pa.Steps=xc;pa.RunStepsPage=Sc;class Hr extends H{constructor(){super(...arguments),this.runs=new pa(this._client),this.messages=new _c(this._client)}create(e={},n){return he(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return _t.createThreadAssistantStream(e,this._client.beta.threads,n)}}Hr.Runs=pa;Hr.RunsPage=kc;Hr.Messages=_c;Hr.MessagesPage=wc;class Kr extends H{constructor(){super(...arguments),this.realtime=new yo(this._client),this.chat=new du(this._client),this.assistants=new pc(this._client),this.threads=new Hr(this._client)}}Kr.Realtime=yo;Kr.Assistants=pc;Kr.AssistantsPage=mc;Kr.Threads=Hr;class Qm extends H{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class Gm extends H{create(e,n){const r=!!e.encoding_format;let s=r?e.encoding_format:"base64";r&&_n("Request","User defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:s},...n});return r?a:(_n("response","Decoding base64 embeddings to float32 array"),a._thenUnwrap(i=>(i&&i.data&&i.data.forEach(o=>{const l=o.embedding;o.embedding=$_(l)}),i)))}}class Ec extends H{retrieve(e,n,r,s){return this._client.get(`/evals/${e}/runs/${n}/output_items/${r}`,s)}list(e,n,r={},s){return he(r)?this.list(e,n,{},r):this._client.getAPIList(`/evals/${e}/runs/${n}/output_items`,Cc,{query:r,...s})}}class Cc extends Te{}Ec.OutputItemListResponsesPage=Cc;class ma extends H{constructor(){super(...arguments),this.outputItems=new Ec(this._client)}create(e,n,r){return this._client.post(`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){return this._client.get(`/evals/${e}/runs/${n}`,r)}list(e,n={},r){return he(n)?this.list(e,{},n):this._client.getAPIList(`/evals/${e}/runs`,Ac,{query:n,...r})}del(e,n,r){return this._client.delete(`/evals/${e}/runs/${n}`,r)}cancel(e,n,r){return this._client.post(`/evals/${e}/runs/${n}`,r)}}class Ac extends Te{}ma.RunListResponsesPage=Ac;ma.OutputItems=Ec;ma.OutputItemListResponsesPage=Cc;class ga extends H{constructor(){super(...arguments),this.runs=new ma(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(`/evals/${e}`,n)}update(e,n,r){return this._client.post(`/evals/${e}`,{body:n,...r})}list(e={},n){return he(e)?this.list({},e):this._client.getAPIList("/evals",Pc,{query:e,...n})}del(e,n){return this._client.delete(`/evals/${e}`,n)}}class Pc extends Te{}ga.EvalListResponsesPage=Pc;ga.Runs=ma;ga.RunListResponsesPage=Ac;let Ic=class extends H{create(e,n){return this._client.post("/files",jr({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return he(e)?this.list({},e):this._client.getAPIList("/files",Rc,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),a=Date.now();let i=await this.retrieve(e);for(;!i.status||!s.has(i.status);)if(await da(n),i=await this.retrieve(e),Date.now()-a>r)throw new dc({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return i}};class Rc extends Te{}Ic.FileObjectsPage=Rc;class Tc extends H{create(e,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,Nc,{body:n,method:"post",...r})}retrieve(e,n={},r){return he(n)?this.retrieve(e,{},n):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}del(e,n){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions`,n)}}class Nc extends ho{}Tc.PermissionCreateResponsesPage=Nc;let vo=class extends H{constructor(){super(...arguments),this.permissions=new Tc(this._client)}};vo.Permissions=Tc;vo.PermissionCreateResponsesPage=Nc;class bc extends H{list(e,n={},r){return he(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Oc,{query:n,...r})}}class Oc extends Te{}bc.FineTuningJobCheckpointsPage=Oc;class Qr extends H{constructor(){super(...arguments),this.checkpoints=new bc(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return he(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",$c,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return he(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Lc,{query:n,...r})}}class $c extends Te{}class Lc extends Te{}Qr.FineTuningJobsPage=$c;Qr.FineTuningJobEventsPage=Lc;Qr.Checkpoints=bc;Qr.FineTuningJobCheckpointsPage=Oc;class Gr extends H{constructor(){super(...arguments),this.jobs=new Qr(this._client),this.checkpoints=new vo(this._client)}}Gr.Jobs=Qr;Gr.FineTuningJobsPage=$c;Gr.FineTuningJobEventsPage=Lc;Gr.Checkpoints=vo;class Jm extends H{createVariation(e,n){return this._client.post("/images/variations",jr({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",jr({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class Mc extends H{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Dc,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class Dc extends ho{}Mc.ModelsPage=Dc;class Xm extends H{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function K_(t,e){return!e||!G_(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:qm(t,e)}function qm(t,e){const n=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:q_(e,s)};if(s.type==="message"){const a=s.content.map(i=>i.type==="output_text"?{...i,parsed:Q_(e,i.text)}:i);return{...s,content:a}}return s}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Ym(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const a of s.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),r}function Q_(t,e){var n,r,s,a;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=t.text)==null?void 0:s.format)?((a=t.text)==null?void 0:a.format).$parseRaw(e):JSON.parse(e)}function G_(t){var e;return!!yc((e=t.text)==null?void 0:e.format)}function J_(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function X_(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function q_(t,e){const n=X_(t.tools??[],e.name);return{...e,...e,parsed_arguments:J_(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function Ym(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}class eg extends H{list(e,n={},r){return he(n)?this.list(e,{},n):this._client.getAPIList(`/responses/${e}/input_items`,ew,{query:n,...r})}}var nr=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},nn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},rr,Za,rn,Ha,Sf,kf,Ef,Cf;class Fc extends gc{constructor(e){super(),rr.add(this),Za.set(this,void 0),rn.set(this,void 0),Ha.set(this,void 0),nr(this,Za,e,"f")}static createResponse(e,n,r){const s=new Fc(n);return s._run(()=>s._createResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createResponse(e,n,r){var i;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),nn(this,rr,"m",Sf).call(this);const a=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of a)nn(this,rr,"m",kf).call(this,o);if((i=a.controller.signal)!=null&&i.aborted)throw new ut;return nn(this,rr,"m",Ef).call(this)}[(Za=new WeakMap,rn=new WeakMap,Ha=new WeakMap,rr=new WeakSet,Sf=function(){this.ended||nr(this,rn,void 0,"f")},kf=function(n){if(this.ended)return;const r=nn(this,rr,"m",Cf).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new z(`missing output at index ${n.output_index}`);if(s.type==="message"){const a=s.content[n.content_index];if(!a)throw new z(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new z(`expected content to be 'output_text', got ${a.type}`);this._emit("response.output_text.delta",{...n,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new z(`missing output at index ${n.output_index}`);s.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...n,snapshot:s.arguments});break}default:this._emit(n.type,n);break}},Ef=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");const n=nn(this,rn,"f");if(!n)throw new z("request ended without sending any events");nr(this,rn,void 0,"f");const r=Y_(n,nn(this,Za,"f"));return nr(this,Ha,r,"f"),r},Cf=function(n){let r=nn(this,rn,"f");if(!r){if(n.type!=="response.created")throw new z(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=nr(this,rn,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new z(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new z(`missing output at index ${n.output_index}`);if(s.type==="message"){const a=s.content[n.content_index];if(!a)throw new z(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new z(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new z(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{nr(this,rn,n.response,"f");break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>n.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=nn(this,Ha,"f");if(!e)throw new z("stream ended without producing a ChatCompletion");return e}}function Y_(t,e){return K_(t,e)}class jc extends H{constructor(){super(...arguments),this.inputItems=new eg(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Ym(r),r))}retrieve(e,n={},r){return he(n)?this.retrieve(e,{},n):this._client.get(`/responses/${e}`,{query:n,...r})}del(e,n){return this._client.delete(`/responses/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>qm(r,e))}stream(e,n){return Fc.createResponse(this._client,e,n)}}class ew extends Te{}jc.InputItems=eg;class tg extends H{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,jr({body:n,...r}))}}class zc extends H{constructor(){super(...arguments),this.parts=new tg(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}zc.Parts=tg;const tw=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};class _o extends H{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/vector_stores/${e}/files/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return he(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,wo,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const a=await this.retrieve(e,n,{...r,headers:s}).withResponse(),i=a.data;switch(i.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await da(o);break;case"failed":case"completed":return i}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}content(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/files/${n}/content`,Uc,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class wo extends Te{}class Uc extends ho{}_o.VectorStoreFilesPage=wo;_o.FileContentResponsesPage=Uc;class ng extends H{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r={},s){return he(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,wo,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:a,response:i}=await this.retrieve(e,n,{...r,headers:s}).withResponse();switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=i.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await da(o);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=(s==null?void 0:s.maxConcurrency)??5,i=Math.min(a,n.length),o=this._client,l=n.values(),u=[...r];async function f(h){for(let g of h){const y=await o.files.create({file:g,purpose:"assistants"},s);u.push(y.id)}}const c=Array(i).fill(l).map(f);return await tw(c),await this.createAndPoll(e,{file_ids:u})}}class Rn extends H{constructor(){super(...arguments),this.files=new _o(this._client),this.fileBatches=new ng(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return he(e)?this.list({},e):this._client.getAPIList("/vector_stores",Bc,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/search`,Vc,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Bc extends Te{}class Vc extends ho{}Rn.VectorStoresPage=Bc;Rn.VectorStoreSearchResponsesPage=Vc;Rn.Files=_o;Rn.VectorStoreFilesPage=wo;Rn.FileContentResponsesPage=Uc;Rn.FileBatches=ng;var rg;class W extends S_{constructor({baseURL:e=za("OPENAI_BASE_URL"),apiKey:n=za("OPENAI_API_KEY"),organization:r=za("OPENAI_ORG_ID")??null,project:s=za("OPENAI_PROJECT_ID")??null,...a}={}){if(n===void 0)throw new z("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:n,organization:r,project:s,...a,baseURL:e||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&b_())throw new z(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new Qm(this),this.chat=new go(this),this.embeddings=new Gm(this),this.files=new Ic(this),this.images=new Jm(this),this.audio=new fa(this),this.moderations=new Xm(this),this.models=new Mc(this),this.fineTuning=new Gr(this),this.vectorStores=new Rn(this),this.beta=new Kr(this),this.batches=new fc(this),this.uploads=new zc(this),this.responses=new jc(this),this.evals=new ga(this),this._options=i,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return s_(e,{arrayFormat:"brackets"})}}rg=W;W.OpenAI=rg;W.DEFAULT_TIMEOUT=6e5;W.OpenAIError=z;W.APIError=Re;W.APIConnectionError=lo;W.APIConnectionTimeoutError=dc;W.APIUserAbortError=ut;W.NotFoundError=am;W.ConflictError=im;W.RateLimitError=lm;W.BadRequestError=nm;W.AuthenticationError=rm;W.InternalServerError=um;W.PermissionDeniedError=sm;W.UnprocessableEntityError=om;W.toFile=mm;W.fileFromPath=Yp;W.Completions=Qm;W.Chat=go;W.ChatCompletionsPage=mo;W.Embeddings=Gm;W.Files=Ic;W.FileObjectsPage=Rc;W.Images=Jm;W.Audio=fa;W.Moderations=Xm;W.Models=Mc;W.ModelsPage=Dc;W.FineTuning=Gr;W.VectorStores=Rn;W.VectorStoresPage=Bc;W.VectorStoreSearchResponsesPage=Vc;W.Beta=Kr;W.Batches=fc;W.BatchesPage=hc;W.Uploads=zc;W.Responses=jc;W.Evals=ga;W.EvalListResponsesPage=Pc;const sg=async(t,e,n="gpt-4-1106-preview")=>{var r,s;try{const a=await ca();if(!a)throw new Error("No API key configured. Please set your API key in the settings.");return((s=(r=(await new W({apiKey:a,dangerouslyAllowBrowser:!0}).chat.completions.create({model:n,messages:[{role:"system",content:e},{role:"user",content:t}],temperature:0,max_tokens:2048})).choices[0])==null?void 0:r.message)==null?void 0:s.content)||"No response generated by the model."}catch(a){throw console.error("Error calling OpenAI API:",a),a}},nw=(t,e=[])=>({response:`I encountered an unexpected error while processing your request: ${t instanceof Error?t.message:"Unknown error"}. Please try again with a different query.`,code:"// Error processing request",debugLog:[...e,t instanceof Error?t.message:"Unknown error"]}),D=t=>{console.log(t);try{window.postMessage({type:"AGENT_LOG",log:t},"*")}catch(e){console.error("Failed to send log to UI:",e)}},rw=async()=>{if(D("Initializing minimal Earth Agent system"),!await ca())return console.error("No API key found"),D("No API key found. Please configure your API key in settings."),sw;const e=async(r,s,a)=>{try{D(`[${a}] Sending request to OpenAI API...`);const i=await sg(r,s,"gpt-4-1106-preview");return D(`[${a}] Received response from OpenAI API`),i}catch(i){throw console.error(`[${a}] Error calling OpenAI API:`,i),D(`[${a}] Error: ${i instanceof Error?i.message:"Unknown error"}`),i}};return D("Model access function initialized successfully"),async r=>{var a,i,o,l;D("Started processing request: "+r);const s=["Starting processing of request"];try{if(!r)return D("Empty input received"),{response:"I couldn't process your request. Please provide a valid query.",code:"// No code was generated (empty input)",debugLog:["Empty input received"]};let u={input:r};s.push(`Initialized state with user input: "${r}"`),D(`Initialized state with user input: "${r}"`);try{s.push("STEP 1: Analyzing request and creating plan"),D("STEP 1: Analyzing request and creating plan"),s.push("Checking feasibility with Earth Engine..."),D("Checking feasibility with Earth Engine...");const f=await tf.assessProblem(r);if(console.log("Feasibility assessment:",f),s.push(`Feasibility assessment: ${f.feasible?"FEASIBLE":"NOT FEASIBLE"}`),D(`Feasibility assessment: ${f.feasible?"FEASIBLE":"NOT FEASIBLE"}`),!f.feasible){const y=`Task not feasible: ${f.explanation}`;return s.push(y),D(y),{response:`I'm sorry, but I don't think Google Earth Engine is the right tool for this request. ${f.explanation}`,code:"// Task not feasible with Earth Engine",debugLog:s}}s.push("Generating task plan using LLM..."),D("Generating task plan using LLM...");const c=`You are a planning agent for Google Earth Engine tasks.
        Analyze user requests and create detailed plans for fulfilling them using Google Earth Engine.`,h=`Analyze the following request and create a detailed plan for fulfilling it using Google Earth Engine:
        
        ${r}
        
        Your plan should include:
        1. The specific Earth Engine datasets that might be useful
        2. The processing steps required
        3. How to visualize or present the results
        
        Be specific and detailed in your plan.`,g=await e(h,c,"Planner");u.taskPlan=g,s.push("Plan created successfully"),D("Plan created successfully"),s.push(`Plan summary: ${g.substring(0,100)}...`),D(`Plan summary: ${g.substring(0,100)}...`),console.log("Plan created:",u.taskPlan)}catch(f){console.error("Error in planning stage:",f);const c=`Error in planning stage: ${f instanceof Error?f.message:"Unknown error"}`;return s.push(c),D(c),{response:`I encountered an error while planning how to approach your request: ${f instanceof Error?f.message:"Unknown error"}. Please try again with a more specific query.`,code:"// Error in planning stage",debugLog:s}}try{if(s.push("STEP 2: Selecting relevant datasets"),D("STEP 2: Selecting relevant datasets"),!u.taskPlan){const d="No task plan available";throw s.push(d),D(d),new Error(d)}s.push("Analyzing dataset needs based on the plan..."),D("Analyzing dataset needs based on the plan...");const f=`You are a data specialist for Google Earth Engine.
        Identify specific datasets that would be most relevant for Earth Engine tasks.`,c=`Based on the following Earth Engine task plan, identify the specific datasets that would be most relevant:
        
        ${u.taskPlan}
        
        List the top 3-5 most relevant Earth Engine datasets for this task, with a brief explanation of why each is appropriate.`,h=await e(c,f,"Dataset Selector");s.push("Dataset needs identified"),D("Dataset needs identified"),s.push("Extracting search terms from dataset analysis..."),D("Extracting search terms from dataset analysis...");const g=aw(h);s.push(`Search terms extracted: ${g.join(", ")}`),D(`Search terms extracted: ${g.join(", ")}`);const y=uw(u.input+" "+(u.taskPlan||""));y?(s.push(`Extracted timeframe: ${y.start||"any"} to ${y.end||"present"}`),D(`Extracted timeframe: ${y.start||"any"} to ${y.end||"present"}`)):(s.push("No specific timeframe detected. Will prioritize recent datasets."),D("No specific timeframe detected. Will prioritize recent datasets."));let v=[];s.push("Searching for matching datasets in Earth Engine catalog..."),D("Searching for matching datasets in Earth Engine catalog...");for(const d of g){s.push(`Searching for term: "${d}"`),D(`Searching for term: "${d}"`);const p=await tf.databaseSearch(d,y);s.push(`Found ${p.length} datasets for term "${d}"`),D(`Found ${p.length} datasets for term "${d}"`),v=[...v,...p]}s.push("Removing duplicate datasets and selecting top candidates..."),D("Removing duplicate datasets and selecting top candidates...");const x=iw(v).slice(0,5);s.push("Dataset structure debug:"),x.forEach((d,p)=>{s.push(`Dataset ${p+1} keys: ${Object.keys(d).join(", ")}`),s.push(`Dataset ${p+1} id: ${d.id}`),s.push(`Dataset ${p+1} asset_url: ${d.asset_url}`)});const m=x.map(d=>{var p;return{id:d.id||"",title:d.title||d.name||d.id||"Unknown Dataset",name:d.name||d.title||d.id||"Unknown Dataset",description:d.description||"No description available",type:d.type||"image",asset_url:d.asset_url||`https://developers.google.com/earth-engine/datasets/catalog/${(p=d.id)==null?void 0:p.replace(/\//g,"_")}`,tags:d.tags||"",start_date:d.start_date||"",end_date:d.end_date||"",provider:d.provider||"Unknown Provider"}});u.selectedDatabases=m,u.databaseSelectionText=h,s.push(`Selected ${((a=u.selectedDatabases)==null?void 0:a.length)||0} unique datasets`),D(`Selected ${((i=u.selectedDatabases)==null?void 0:i.length)||0} unique datasets`),u.selectedDatabases&&u.selectedDatabases.length>0&&(s.push("Selected datasets:"),D("Selected datasets:"),u.selectedDatabases.forEach((d,p)=>{const _=`${p+1}. ${d.name||d.id}`;s.push(_),s.push(`   ID: ${d.id}`),s.push(`   URL: ${d.asset_url}`),D(_)})),console.log("Selected datasets:",((o=u.selectedDatabases)==null?void 0:o.length)||0)}catch(f){console.error("Error in dataset selection stage:",f);const c=`Error in dataset selection stage: ${f instanceof Error?f.message:"Unknown error"}`;return s.push(c),D(c),{response:`I encountered an error while selecting appropriate datasets: ${f instanceof Error?f.message:"Unknown error"}. Please try again with a more specific request.`,code:"// Error in dataset selection stage",debugLog:s}}try{if(s.push("STEP 3: Analyzing dataset access methods"),D("STEP 3: Analyzing dataset access methods"),!u.selectedDatabases||u.selectedDatabases.length===0){const c="No datasets selected";throw s.push(c),D(c),new Error(c)}s.push("Determining correct access methods for each dataset..."),D("Determining correct access methods for each dataset...");const f={};for(const c of u.selectedDatabases){if(s.push(`Processing dataset: ${c.id}`),s.push(`Dataset properties: ${Object.keys(c).join(", ")}`),!c.asset_url){s.push(`No asset URL available for dataset ${c.id}, generating standard URL`),D(`No asset URL available for dataset ${c.id}, generating URL`);const y=(l=c.id)==null?void 0:l.replace(/\//g,"_");c.asset_url=`https://developers.google.com/earth-engine/datasets/catalog/${y}`,s.push(`Generated URL: ${c.asset_url}`)}s.push(`Analyzing documentation for ${c.id} from ${c.asset_url}`),D(`Analyzing documentation for ${c.id} from ${c.asset_url}`);const h=`You are an AI agent that analyzes Earth Engine catalog URLs to extract comprehensive information about datasets. 
          For each URL provided:
          1. Determine the dataset ID
          2. Extract the dataset type (Image, ImageCollection, or FeatureCollection) 
          3. Extract a detailed description of the dataset
          4. Identify all available bands/properties with descriptions
          5. Determine the correct access method for the dataset
          6. Extract code examples when available
          7. Identify visualization parameters when available

          Respond in a structured format for each dataset with sections for DATASET ID, TYPE, DESCRIPTION, AVAILABLE BANDS, ACCESS METHOD, CODE EXAMPLE, and VISUALIZATION PARAMETERS.`,g=y=>`I have the following Earth Engine catalog URLs:

${y.map((v,x)=>`${x+1}. ${v}`).join(`
`)}

For each URL:
1. Extract the dataset ID from the URL
2. Determine if it's an Image, ImageCollection, or FeatureCollection
3. Extract a comprehensive description of the dataset's purpose and content
4. List all available bands/properties with descriptions when available
5. Determine the correct access method in Earth Engine code
6. Extract any code examples that show how to use this dataset
7. Identify any visualization parameters recommended for this dataset

Please format your response in a structured way for each dataset with these headers:
DATASET ID:
TYPE:
DESCRIPTION:
AVAILABLE BANDS:
ACCESS METHOD:
CODE EXAMPLE:
VISUALIZATION PARAMETERS:

This information will be used to generate Earth Engine code, so be comprehensive and accurate.`;try{const y=await e(g([c.asset_url]),h,`URL Analysis for ${c.id}`),v=new RegExp(`DATASET ID:[\\s\\S]*?${c.id}[\\s\\S]*?(?:DATASET ID:|$)`,"i"),x=y.match(v),m=x?x[0]:"";if(!m)throw new Error(`Could not extract information for dataset: ${c.id}`);const d=m.match(/TYPE:(.+?)(?:DESCRIPTION:|$)/s),p=d&&d[1].trim(),_=m.match(/DESCRIPTION:(.+?)(?:AVAILABLE BANDS:|$)/s),A=_&&_[1].trim();let E=[];const S=m.match(/AVAILABLE BANDS:(.+?)(?:ACCESS METHOD:|$)/s);S&&S[1]&&(E=S[1].trim().split(`
`).filter(at=>at.trim().length>0).map(at=>{const At=at.split(":");return At.length>1?{name:At[0].trim(),description:At[1].trim()}:{name:at.trim(),description:""}}));const w=m.match(/ACCESS METHOD:(.+?)(?:CODE EXAMPLE:|$)/s),R=w&&w[1].trim(),P=m.match(/CODE EXAMPLE:(.+?)(?:VISUALIZATION PARAMETERS:|$)/s),I=P&&P[1].trim(),j=m.match(/VISUALIZATION PARAMETERS:(.+?)(?:DATASET ID:|$)/s),Q=j&&j[1].trim();f[c.id]={id:c.id,type:p||"unknown",description:A||"No description available",bands:E,accessType:(p||"").toLowerCase().includes("collection")?(p||"").toLowerCase().includes("feature")?"ee.FeatureCollection":"ee.ImageCollection":"ee.Image",accessLine:R||`var dataset = ee.Image('${c.id}');`,codeSnippet:I||"",visParams:Q||""},s.push(`Determined access method for ${c.id}: ${R}`),D(`Analyzed dataset: ${c.id}`)}catch(y){s.push(`Error analyzing URL for ${c.id}: ${y instanceof Error?y.message:"Unknown error"}`),D(`Error analyzing URL for ${c.id}, using fallback`);let v="ee.Image";c.type==="image_collection"?v="ee.ImageCollection":(c.type==="table"||c.type==="feature_collection")&&(v="ee.FeatureCollection"),f[c.id]={id:c.id,type:v,description:c.description||"No description available",bands:[],accessType:v,accessLine:`var dataset = ${v}('${c.id}');`,codeSnippet:"",visParams:""}}}u.datasetAccessMethods=f,s.push(`Access methods determined: ${JSON.stringify(f,null,2)}`),D(`Access methods determined for ${Object.keys(f).length} datasets`)}catch(f){console.error("Error in dataset access analysis stage:",f);const c=`Error in dataset access analysis stage: ${f instanceof Error?f.message:"Unknown error"}`;if(s.push(c),D(c),u.selectedDatabases){const h={};u.selectedDatabases.forEach(g=>{let y="ee.Image";g.type==="image_collection"?y="ee.ImageCollection":(g.type==="table"||g.type==="feature_collection")&&(y="ee.FeatureCollection"),h[g.id]={id:g.id,type:y,description:g.description||"No description available",bands:[],accessType:y,accessLine:`var dataset = ${y}('${g.id}');`,codeSnippet:"",visParams:""}}),u.datasetAccessMethods=h,s.push("Using fallback access methods due to error"),D("Using fallback access methods due to error")}}try{if(s.push("STEP 4: Generating Earth Engine code"),D("STEP 4: Generating Earth Engine code"),!u.taskPlan||!u.selectedDatabases){const y="Missing task plan or datasets";throw s.push(y),D(y),new Error(y)}s.push("Formatting dataset information for code generation..."),D("Formatting dataset information for code generation..."),s.push("Generating Earth Engine code with LLM..."),D("Generating Earth Engine code with LLM...");const h=await e(((y,v,x={},m="")=>`I need to create Earth Engine JavaScript code that uses multiple of the following datasets:

${ow(y,x)}

My area of interest is: ${v}

Please write complete, working Earth Engine JavaScript code that:
1. Loads at least 3-4 of these datasets (use as many as appropriate for a meaningful analysis)
2. Processes and visualizes the data in meaningful ways
3. Includes proper attribution and descriptions for each dataset used
4. Creates a proper visualization with appropriate visualization parameters
5. Exports or displays results on the map

The code should be complete, functional, and ready to run in the Earth Engine Code Editor.
Include helpful comments to explain key steps in the analysis.

Background context from my initial query: 
${m}

Please provide only the working Earth Engine JavaScript code with no additional explanation.`)(u.selectedDatabases,u.input,u.datasetAccessMethods,u.taskPlan),`You are an expert in Google Earth Engine JavaScript programming.
        Write clean, efficient, and well-commented code that addresses user tasks using multiple datasets effectively.`,"Code Generator"),g=lw(h);s.push("Code generated successfully"),D("Code generated successfully"),u.generatedCode=g,console.log("Code generated successfully")}catch(f){console.error("Error in code generation stage:",f);const c=`Error in code generation stage: ${f instanceof Error?f.message:"Unknown error"}`;return s.push(c),D(c),{response:`I encountered an error while generating Earth Engine code: ${f instanceof Error?f.message:"Unknown error"}. Please try again with a more specific request.`,code:"// Error in code generation",debugLog:s}}try{if(s.push("STEP 5: Creating final response"),D("STEP 5: Creating final response"),!u.generatedCode){const g="No code was generated";throw s.push(g),D(g),new Error(g)}s.push("Generating user-friendly explanation of the code..."),D("Generating user-friendly explanation of the code...");const f=`You are an Earth science educator explaining Google Earth Engine concepts to users.
        Create clear, concise summaries that non-experts can understand.`,c=`Create a clear, concise summary of the following Earth Engine task:
        
        USER REQUEST: ${u.input}
        
        GENERATED CODE: ${u.generatedCode}
        
        Explain what the code does in simple terms, how it addresses the user's request, and how they can use it.`,h=await e(c,f,"Response Summarizer");return s.push("Response summary generated successfully"),D("Response summary generated successfully"),{response:h,code:u.generatedCode,debugLog:s}}catch(f){console.error("Error in response generation stage:",f);const c=`Error in response generation stage: ${f instanceof Error?f.message:"Unknown error"}`;return s.push(c),D(c),{response:"I've generated Earth Engine code based on your request. You can run this code in the Earth Engine Code Editor to accomplish your task.",code:u.generatedCode||"// No code was generated",debugLog:s}}}catch(u){return console.error("Error in processing:",u),nw(u,s)}}},sw=async t=>({response:"I need an API key to work. Please configure your API key in the extension settings.",code:"// No API key configured",debugLog:["No API key configured. Please set your API key in settings."]}),aw=t=>{const e=t.split(`
`),n=[];for(const r of e){if(r.includes("Landsat")||r.includes("MODIS")||r.includes("Sentinel")){const a=r.match(/\b(Landsat|MODIS|Sentinel)[a-zA-Z0-9\s-]*/g);a&&n.push(...a)}const s=["elevation","land cover","precipitation","temperature","vegetation","forest","water","snow","ice","urban","population"];for(const a of s)r.toLowerCase().includes(a)&&n.push(a)}return n.length===0&&n.push("Landsat","MODIS","elevation","land cover"),[...new Set(n)]},iw=t=>{const e=new Set;return t.filter(n=>e.has(n.id)?!1:(e.add(n.id),!0))},ow=(t,e={})=>t.map(n=>{const r=e[n.id]||{accessType:n.type==="image_collection"?"ee.ImageCollection":n.type==="table"?"ee.FeatureCollection":"ee.Image",accessLine:`var dataset = ee.Image('${n.id}');`,codeSnippet:"",description:n.description||"No description available",bands:[]};let s=`- ${n.name||n.title||n.id} (${n.id}): 
      Type: ${n.type||"unknown"}
      Access Method: ${r.accessLine}
      Description: ${r.description||n.description||"No description available"}`;if(r.bands&&r.bands.length>0&&(s+=`
      Available Bands/Properties: ${r.bands.map(a=>typeof a=="string"?a:a.name+(a.description?` - ${a.description}`:"")).join(", ")}`),r.visParams&&(s+=`
      Visualization Parameters: ${r.visParams}`),r.codeSnippet&&r.codeSnippet.length>0){const a=r.codeSnippet.split(`
`),i=a.slice(0,Math.min(5,a.length)).join(`
`);s+=`
      Code Example:
      ${i}${a.length>5?`
      // ... more code ...`:""}`}return s}).join(`

`),lw=t=>{const e=/```(?:javascript|js)?\s*([\s\S]*?)```/,n=t.match(e);return n&&n[1]?n[1].trim():t},uw=t=>{const e={},n=/\b(19\d{2}|20\d{2})\b/g,r=Array.from(t.matchAll(n),x=>x[0]),s=/(?:from|since|after|beginning|start(?:ing)?\s+(?:from|in))\s+(\d{4}|\w+\s+\d{4}|\d{4}[-/]\d{1,2}[-/]\d{1,2})/i,a=/(?:to|until|through|ending|end(?:ing)?\s+(?:in|at))\s+(\d{4}|\w+\s+\d{4}|\d{4}[-/]\d{1,2}[-/]\d{1,2})/i,i=/between\s+(\d{4}|\w+\s+\d{4}|\d{4}[-/]\d{1,2}[-/]\d{1,2})\s+and\s+(\d{4}|\w+\s+\d{4}|\d{4}[-/]\d{1,2}[-/]\d{1,2})/i,o=/for\s+(?:the\s+)?(?:year|period)\s+(\d{4}|\w+\s+\d{4}|\d{4}[-/]\d{1,2}[-/]\d{1,2})/i,l=/\bin\s+(?:the\s+)?(?:year|period)?\s*(\d{4})\b/i,u=/\b(?:latest|newest|most\s+recent|current)\b/i,f=t.match(s),c=t.match(a),h=t.match(i),g=t.match(o),y=t.match(l),v=t.match(u);if(h)e.start=h[1],e.end=h[2];else if(f&&(e.start=f[1]),c&&(e.end=c[1]),g||y!==null){const x=g?g[1]:y?y[1]:"";x&&(e.start=x,e.end=x)}if(!e.start&&!e.end&&r.length>0){const x=[...r].sort();x.length===1?(e.start=x[0],e.end=x[0]):x.length>1&&!v&&(e.start=x[0],e.end=x[x.length-1])}if(v&&!e.start&&!e.end){const x=new Date;x.setFullYear(x.getFullYear()-5),e.start=x.getFullYear().toString()}return e.start&&(e.start=Af(e.start)),e.end&&(e.end=Af(e.end)),e.start||e.end?e:void 0},Af=t=>{if(/^\d{4}$/.test(t))return t+"-01-01";try{const e=new Date(t);if(!isNaN(e.getTime()))return e.toISOString().split("T")[0]}catch{}return t};var J;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},t.find=(s,a)=>{for(const i of s)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(J||(J={}));var hu;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(hu||(hu={}));const b=J.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wt=t=>{switch(typeof t){case"undefined":return b.undefined;case"string":return b.string;case"number":return isNaN(t)?b.nan:b.number;case"boolean":return b.boolean;case"function":return b.function;case"bigint":return b.bigint;case"symbol":return b.symbol;case"object":return Array.isArray(t)?b.array:t===null?b.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?b.promise:typeof Map<"u"&&t instanceof Map?b.map:typeof Set<"u"&&t instanceof Set?b.set:typeof Date<"u"&&t instanceof Date?b.date:b.object;default:return b.unknown}},k=J.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cw=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class et extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let o=r,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(i))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof et))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,J.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}et.create=t=>new et(t);const zr=(t,e)=>{let n;switch(t.code){case k.invalid_type:t.received===b.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case k.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,J.jsonStringifyReplacer)}`;break;case k.unrecognized_keys:n=`Unrecognized key(s) in object: ${J.joinValues(t.keys,", ")}`;break;case k.invalid_union:n="Invalid input";break;case k.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${J.joinValues(t.options)}`;break;case k.invalid_enum_value:n=`Invalid enum value. Expected ${J.joinValues(t.options)}, received '${t.received}'`;break;case k.invalid_arguments:n="Invalid function arguments";break;case k.invalid_return_type:n="Invalid function return type";break;case k.invalid_date:n="Invalid date";break;case k.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:J.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case k.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case k.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case k.custom:n="Invalid input";break;case k.invalid_intersection_types:n="Intersection results could not be merged";break;case k.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case k.not_finite:n="Number must be finite";break;default:n=e.defaultError,J.assertNever(t)}return{message:n}};let ag=zr;function dw(t){ag=t}function ji(){return ag}const zi=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,a=[...n,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(i,{data:e,defaultError:o}).message;return{...s,path:a,message:o}},fw=[];function T(t,e){const n=ji(),r=zi({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===zr?void 0:zr].filter(s=>!!s)});t.common.issues.push(r)}class Me{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return B;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const a=await s.key,i=await s.value;r.push({key:a,value:i})}return Me.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return B;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:e.value,value:r}}}const B=Object.freeze({status:"aborted"}),xr=t=>({status:"dirty",value:t}),je=t=>({status:"valid",value:t}),pu=t=>t.status==="aborted",mu=t=>t.status==="dirty",Qn=t=>t.status==="valid",Hs=t=>typeof Promise<"u"&&t instanceof Promise;function Ui(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function ig(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var L;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(L||(L={}));var ps,ms;class Dt{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Pf=(t,e)=>{if(Qn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new et(t.common.issues);return this._error=n,this._error}}};function V(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,o)=>{var l,u;const{message:f}=t;return i.code==="invalid_enum_value"?{message:f??o.defaultError}:typeof o.data>"u"?{message:(l=f??r)!==null&&l!==void 0?l:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(u=f??n)!==null&&u!==void 0?u:o.defaultError}},description:s}}class Z{get description(){return this._def.description}_getType(e){return Wt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Wt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Me,ctx:{common:e.parent.common,data:e.data,parsedType:Wt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Hs(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wt(e)},a=this._parseSync({data:e,path:s.path,parent:s});return Pf(s,a)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wt(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:s});return Qn(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(a=>Qn(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wt(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(Hs(s)?s:Promise.resolve(s));return Pf(r,a)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const i=e(s),o=()=>a.addIssue({code:k.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ct({schema:this,typeName:U.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Mt.create(this,this._def)}nullable(){return Cn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return kt.create(this)}promise(){return Br.create(this,this._def)}or(e){return Js.create([this,e],this._def)}and(e){return Xs.create(this,e,this._def)}transform(e){return new Ct({...V(this._def),schema:this,typeName:U.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new na({...V(this._def),innerType:this,defaultValue:n,typeName:U.ZodDefault})}brand(){return new Wc({typeName:U.ZodBranded,type:this,...V(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ra({...V(this._def),innerType:this,catchValue:n,typeName:U.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ya.create(this,e)}readonly(){return sa.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hw=/^c[^\s-]{8,}$/i,pw=/^[0-9a-z]+$/,mw=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gw=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yw=/^[a-z0-9_-]{21}$/i,vw=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_w=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ww=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let al;const Sw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ew=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Cw=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Aw=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Pw=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,og="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Iw=new RegExp(`^${og}$`);function lg(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Rw(t){return new RegExp(`^${lg(t)}$`)}function ug(t){let e=`${og}T${lg(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Tw(t,e){return!!((e==="v4"||!e)&&Sw.test(t)||(e==="v6"||!e)&&Ew.test(t))}function Nw(t,e){if(!vw.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function bw(t,e){return!!((e==="v4"||!e)&&kw.test(t)||(e==="v6"||!e)&&Cw.test(t))}class wt extends Z{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==b.string){const a=this._getOrReturnCtx(e);return T(a,{code:k.invalid_type,expected:b.string,received:a.parsedType}),B}const r=new Me;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:k.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:k.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(e,s),i?T(s,{code:k.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&T(s,{code:k.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")ww.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"email",code:k.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")al||(al=new RegExp(xw,"u")),al.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"emoji",code:k.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")gw.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"uuid",code:k.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")yw.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"nanoid",code:k.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")hw.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"cuid",code:k.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")pw.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"cuid2",code:k.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")mw.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"ulid",code:k.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),T(s,{validation:"url",code:k.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"regex",code:k.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),T(s,{code:k.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),T(s,{code:k.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),T(s,{code:k.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?ug(a).test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{code:k.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Iw.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{code:k.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Rw(a).test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{code:k.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?_w.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"duration",code:k.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Tw(e.data,a.version)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"ip",code:k.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Nw(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"jwt",code:k.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?bw(e.data,a.version)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"cidr",code:k.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Aw.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"base64",code:k.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Pw.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"base64url",code:k.invalid_string,message:a.message}),r.dirty()):J.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:k.invalid_string,...L.errToObj(r)})}_addCheck(e){return new wt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...L.errToObj(e)})}url(e){return this._addCheck({kind:"url",...L.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...L.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...L.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...L.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...L.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...L.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...L.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...L.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...L.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...L.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...L.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...L.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...L.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...L.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...L.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...L.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...L.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...L.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...L.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...L.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...L.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...L.errToObj(n)})}nonempty(e){return this.min(1,L.errToObj(e))}trim(){return new wt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}wt.create=t=>{var e;return new wt({checks:[],typeName:U.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...V(t)})};function Ow(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(t.toFixed(s).replace(".","")),i=parseInt(e.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}class Sn extends Z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==b.number){const a=this._getOrReturnCtx(e);return T(a,{code:k.invalid_type,expected:b.number,received:a.parsedType}),B}let r;const s=new Me;for(const a of this._def.checks)a.kind==="int"?J.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),T(r,{code:k.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),T(r,{code:k.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),T(r,{code:k.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Ow(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),T(r,{code:k.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),T(r,{code:k.not_finite,message:a.message}),s.dirty()):J.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,L.toString(n))}gt(e,n){return this.setLimit("min",e,!1,L.toString(n))}lte(e,n){return this.setLimit("max",e,!0,L.toString(n))}lt(e,n){return this.setLimit("max",e,!1,L.toString(n))}setLimit(e,n,r,s){return new Sn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:L.toString(s)}]})}_addCheck(e){return new Sn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:L.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:L.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:L.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:L.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:L.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:L.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:L.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:L.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:L.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&J.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Sn.create=t=>new Sn({checks:[],typeName:U.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...V(t)});class kn extends Z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==b.bigint)return this._getInvalidInput(e);let r;const s=new Me;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),T(r,{code:k.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),T(r,{code:k.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),T(r,{code:k.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):J.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return T(n,{code:k.invalid_type,expected:b.bigint,received:n.parsedType}),B}gte(e,n){return this.setLimit("min",e,!0,L.toString(n))}gt(e,n){return this.setLimit("min",e,!1,L.toString(n))}lte(e,n){return this.setLimit("max",e,!0,L.toString(n))}lt(e,n){return this.setLimit("max",e,!1,L.toString(n))}setLimit(e,n,r,s){return new kn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:L.toString(s)}]})}_addCheck(e){return new kn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:L.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:L.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:L.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:L.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:L.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}kn.create=t=>{var e;return new kn({checks:[],typeName:U.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...V(t)})};class Ks extends Z{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==b.boolean){const r=this._getOrReturnCtx(e);return T(r,{code:k.invalid_type,expected:b.boolean,received:r.parsedType}),B}return je(e.data)}}Ks.create=t=>new Ks({typeName:U.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...V(t)});class Gn extends Z{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==b.date){const a=this._getOrReturnCtx(e);return T(a,{code:k.invalid_type,expected:b.date,received:a.parsedType}),B}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return T(a,{code:k.invalid_date}),B}const r=new Me;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:k.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:k.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):J.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Gn({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:L.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:L.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Gn.create=t=>new Gn({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:U.ZodDate,...V(t)});class Bi extends Z{_parse(e){if(this._getType(e)!==b.symbol){const r=this._getOrReturnCtx(e);return T(r,{code:k.invalid_type,expected:b.symbol,received:r.parsedType}),B}return je(e.data)}}Bi.create=t=>new Bi({typeName:U.ZodSymbol,...V(t)});class Qs extends Z{_parse(e){if(this._getType(e)!==b.undefined){const r=this._getOrReturnCtx(e);return T(r,{code:k.invalid_type,expected:b.undefined,received:r.parsedType}),B}return je(e.data)}}Qs.create=t=>new Qs({typeName:U.ZodUndefined,...V(t)});class Gs extends Z{_parse(e){if(this._getType(e)!==b.null){const r=this._getOrReturnCtx(e);return T(r,{code:k.invalid_type,expected:b.null,received:r.parsedType}),B}return je(e.data)}}Gs.create=t=>new Gs({typeName:U.ZodNull,...V(t)});class Ur extends Z{constructor(){super(...arguments),this._any=!0}_parse(e){return je(e.data)}}Ur.create=t=>new Ur({typeName:U.ZodAny,...V(t)});class Bn extends Z{constructor(){super(...arguments),this._unknown=!0}_parse(e){return je(e.data)}}Bn.create=t=>new Bn({typeName:U.ZodUnknown,...V(t)});class qt extends Z{_parse(e){const n=this._getOrReturnCtx(e);return T(n,{code:k.invalid_type,expected:b.never,received:n.parsedType}),B}}qt.create=t=>new qt({typeName:U.ZodNever,...V(t)});class Vi extends Z{_parse(e){if(this._getType(e)!==b.undefined){const r=this._getOrReturnCtx(e);return T(r,{code:k.invalid_type,expected:b.void,received:r.parsedType}),B}return je(e.data)}}Vi.create=t=>new Vi({typeName:U.ZodVoid,...V(t)});class kt extends Z{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==b.array)return T(n,{code:k.invalid_type,expected:b.array,received:n.parsedType}),B;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(i||o)&&(T(n,{code:i?k.too_big:k.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(T(n,{code:k.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(T(n,{code:k.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,o)=>s.type._parseAsync(new Dt(n,i,n.path,o)))).then(i=>Me.mergeArray(r,i));const a=[...n.data].map((i,o)=>s.type._parseSync(new Dt(n,i,n.path,o)));return Me.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new kt({...this._def,minLength:{value:e,message:L.toString(n)}})}max(e,n){return new kt({...this._def,maxLength:{value:e,message:L.toString(n)}})}length(e,n){return new kt({...this._def,exactLength:{value:e,message:L.toString(n)}})}nonempty(e){return this.min(1,e)}}kt.create=(t,e)=>new kt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:U.ZodArray,...V(e)});function or(t){if(t instanceof le){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Mt.create(or(r))}return new le({...t._def,shape:()=>e})}else return t instanceof kt?new kt({...t._def,type:or(t.element)}):t instanceof Mt?Mt.create(or(t.unwrap())):t instanceof Cn?Cn.create(or(t.unwrap())):t instanceof Ft?Ft.create(t.items.map(e=>or(e))):t}class le extends Z{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=J.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==b.object){const u=this._getOrReturnCtx(e);return T(u,{code:k.invalid_type,expected:b.object,received:u.parsedType}),B}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof qt&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||o.push(u);const l=[];for(const u of i){const f=a[u],c=s.data[u];l.push({key:{status:"valid",value:u},value:f._parse(new Dt(s,c,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof qt){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of o)l.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")o.length>0&&(T(s,{code:k.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of o){const c=s.data[f];l.push({key:{status:"valid",value:f},value:u._parse(new Dt(s,c,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of l){const c=await f.key,h=await f.value;u.push({key:c,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>Me.mergeObjectSync(r,u)):Me.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return L.errToObj,new le({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,a,i,o;const l=(i=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=L.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new le({...this._def,unknownKeys:"strip"})}passthrough(){return new le({...this._def,unknownKeys:"passthrough"})}extend(e){return new le({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new le({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:U.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new le({...this._def,catchall:e})}pick(e){const n={};return J.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new le({...this._def,shape:()=>n})}omit(e){const n={};return J.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new le({...this._def,shape:()=>n})}deepPartial(){return or(this)}partial(e){const n={};return J.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new le({...this._def,shape:()=>n})}required(e){const n={};return J.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Mt;)a=a._def.innerType;n[r]=a}}),new le({...this._def,shape:()=>n})}keyof(){return cg(J.objectKeys(this.shape))}}le.create=(t,e)=>new le({shape:()=>t,unknownKeys:"strip",catchall:qt.create(),typeName:U.ZodObject,...V(e)});le.strictCreate=(t,e)=>new le({shape:()=>t,unknownKeys:"strict",catchall:qt.create(),typeName:U.ZodObject,...V(e)});le.lazycreate=(t,e)=>new le({shape:t,unknownKeys:"strip",catchall:qt.create(),typeName:U.ZodObject,...V(e)});class Js extends Z{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new et(o.ctx.common.issues));return T(n,{code:k.invalid_union,unionErrors:i}),B}if(n.common.async)return Promise.all(r.map(async a=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},f=l._parseSync({data:n.data,path:n.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(l=>new et(l));return T(n,{code:k.invalid_union,unionErrors:o}),B}}get options(){return this._def.options}}Js.create=(t,e)=>new Js({options:t,typeName:U.ZodUnion,...V(e)});const Ut=t=>t instanceof Ys?Ut(t.schema):t instanceof Ct?Ut(t.innerType()):t instanceof ea?[t.value]:t instanceof En?t.options:t instanceof ta?J.objectValues(t.enum):t instanceof na?Ut(t._def.innerType):t instanceof Qs?[void 0]:t instanceof Gs?[null]:t instanceof Mt?[void 0,...Ut(t.unwrap())]:t instanceof Cn?[null,...Ut(t.unwrap())]:t instanceof Wc||t instanceof sa?Ut(t.unwrap()):t instanceof ra?Ut(t._def.innerType):[];class xo extends Z{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==b.object)return T(n,{code:k.invalid_type,expected:b.object,received:n.parsedType}),B;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(T(n,{code:k.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),B)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const a of n){const i=Ut(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,a)}}return new xo({typeName:U.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...V(r)})}}function gu(t,e){const n=Wt(t),r=Wt(e);if(t===e)return{valid:!0,data:t};if(n===b.object&&r===b.object){const s=J.objectKeys(e),a=J.objectKeys(t).filter(o=>s.indexOf(o)!==-1),i={...t,...e};for(const o of a){const l=gu(t[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(n===b.array&&r===b.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const i=t[a],o=e[a],l=gu(i,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===b.date&&r===b.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xs extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(a,i)=>{if(pu(a)||pu(i))return B;const o=gu(a.value,i.value);return o.valid?((mu(a)||mu(i))&&n.dirty(),{status:n.value,value:o.data}):(T(r,{code:k.invalid_intersection_types}),B)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Xs.create=(t,e,n)=>new Xs({left:t,right:e,typeName:U.ZodIntersection,...V(n)});class Ft extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.array)return T(r,{code:k.invalid_type,expected:b.array,received:r.parsedType}),B;if(r.data.length<this._def.items.length)return T(r,{code:k.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),B;!this._def.rest&&r.data.length>this._def.items.length&&(T(r,{code:k.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Dt(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>Me.mergeArray(n,i)):Me.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Ft({...this._def,rest:e})}}Ft.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ft({items:t,typeName:U.ZodTuple,rest:null,...V(e)})};class qs extends Z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.object)return T(r,{code:k.invalid_type,expected:b.object,received:r.parsedType}),B;const s=[],a=this._def.keyType,i=this._def.valueType;for(const o in r.data)s.push({key:a._parse(new Dt(r,o,r.path,o)),value:i._parse(new Dt(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Me.mergeObjectAsync(n,s):Me.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Z?new qs({keyType:e,valueType:n,typeName:U.ZodRecord,...V(r)}):new qs({keyType:wt.create(),valueType:e,typeName:U.ZodRecord,...V(n)})}}class Wi extends Z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.map)return T(r,{code:k.invalid_type,expected:b.map,received:r.parsedType}),B;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([o,l],u)=>({key:s._parse(new Dt(r,o,r.path,[u,"key"])),value:a._parse(new Dt(r,l,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of i){const u=await l.key,f=await l.value;if(u.status==="aborted"||f.status==="aborted")return B;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(u.value,f.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of i){const u=l.key,f=l.value;if(u.status==="aborted"||f.status==="aborted")return B;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(u.value,f.value)}return{status:n.value,value:o}}}}Wi.create=(t,e,n)=>new Wi({valueType:e,keyType:t,typeName:U.ZodMap,...V(n)});class Jn extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.set)return T(r,{code:k.invalid_type,expected:b.set,received:r.parsedType}),B;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(T(r,{code:k.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(T(r,{code:k.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function i(l){const u=new Set;for(const f of l){if(f.status==="aborted")return B;f.status==="dirty"&&n.dirty(),u.add(f.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((l,u)=>a._parse(new Dt(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,n){return new Jn({...this._def,minSize:{value:e,message:L.toString(n)}})}max(e,n){return new Jn({...this._def,maxSize:{value:e,message:L.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Jn.create=(t,e)=>new Jn({valueType:t,minSize:null,maxSize:null,typeName:U.ZodSet,...V(e)});class Nr extends Z{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==b.function)return T(n,{code:k.invalid_type,expected:b.function,received:n.parsedType}),B;function r(o,l){return zi({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ji(),zr].filter(u=>!!u),issueData:{code:k.invalid_arguments,argumentsError:l}})}function s(o,l){return zi({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ji(),zr].filter(u=>!!u),issueData:{code:k.invalid_return_type,returnTypeError:l}})}const a={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof Br){const o=this;return je(async function(...l){const u=new et([]),f=await o._def.args.parseAsync(l,a).catch(g=>{throw u.addIssue(r(l,g)),u}),c=await Reflect.apply(i,this,f);return await o._def.returns._def.type.parseAsync(c,a).catch(g=>{throw u.addIssue(s(c,g)),u})})}else{const o=this;return je(function(...l){const u=o._def.args.safeParse(l,a);if(!u.success)throw new et([r(l,u.error)]);const f=Reflect.apply(i,this,u.data),c=o._def.returns.safeParse(f,a);if(!c.success)throw new et([s(f,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Nr({...this._def,args:Ft.create(e).rest(Bn.create())})}returns(e){return new Nr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Nr({args:e||Ft.create([]).rest(Bn.create()),returns:n||Bn.create(),typeName:U.ZodFunction,...V(r)})}}class Ys extends Z{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ys.create=(t,e)=>new Ys({getter:t,typeName:U.ZodLazy,...V(e)});class ea extends Z{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return T(n,{received:n.data,code:k.invalid_literal,expected:this._def.value}),B}return{status:"valid",value:e.data}}get value(){return this._def.value}}ea.create=(t,e)=>new ea({value:t,typeName:U.ZodLiteral,...V(e)});function cg(t,e){return new En({values:t,typeName:U.ZodEnum,...V(e)})}class En extends Z{constructor(){super(...arguments),ps.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return T(n,{expected:J.joinValues(r),received:n.parsedType,code:k.invalid_type}),B}if(Ui(this,ps)||ig(this,ps,new Set(this._def.values)),!Ui(this,ps).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return T(n,{received:n.data,code:k.invalid_enum_value,options:r}),B}return je(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return En.create(e,{...this._def,...n})}exclude(e,n=this._def){return En.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ps=new WeakMap;En.create=cg;class ta extends Z{constructor(){super(...arguments),ms.set(this,void 0)}_parse(e){const n=J.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==b.string&&r.parsedType!==b.number){const s=J.objectValues(n);return T(r,{expected:J.joinValues(s),received:r.parsedType,code:k.invalid_type}),B}if(Ui(this,ms)||ig(this,ms,new Set(J.getValidEnumValues(this._def.values))),!Ui(this,ms).has(e.data)){const s=J.objectValues(n);return T(r,{received:r.data,code:k.invalid_enum_value,options:s}),B}return je(e.data)}get enum(){return this._def.values}}ms=new WeakMap;ta.create=(t,e)=>new ta({values:t,typeName:U.ZodNativeEnum,...V(e)});class Br extends Z{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==b.promise&&n.common.async===!1)return T(n,{code:k.invalid_type,expected:b.promise,received:n.parsedType}),B;const r=n.parsedType===b.promise?n.data:Promise.resolve(n.data);return je(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Br.create=(t,e)=>new Br({type:t,typeName:U.ZodPromise,...V(e)});class Ct extends Z{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===U.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{T(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async o=>{if(n.value==="aborted")return B;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?B:l.status==="dirty"||n.value==="dirty"?xr(l.value):l});{if(n.value==="aborted")return B;const o=this._def.schema._parseSync({data:i,path:r.path,parent:r});return o.status==="aborted"?B:o.status==="dirty"||n.value==="dirty"?xr(o.value):o}}if(s.type==="refinement"){const i=o=>{const l=s.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?B:(o.status==="dirty"&&n.dirty(),i(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?B:(o.status==="dirty"&&n.dirty(),i(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Qn(i))return i;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Qn(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:n.value,value:o})):i);J.assertNever(s)}}Ct.create=(t,e,n)=>new Ct({schema:t,typeName:U.ZodEffects,effect:e,...V(n)});Ct.createWithPreprocess=(t,e,n)=>new Ct({schema:e,effect:{type:"preprocess",transform:t},typeName:U.ZodEffects,...V(n)});class Mt extends Z{_parse(e){return this._getType(e)===b.undefined?je(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mt.create=(t,e)=>new Mt({innerType:t,typeName:U.ZodOptional,...V(e)});class Cn extends Z{_parse(e){return this._getType(e)===b.null?je(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cn.create=(t,e)=>new Cn({innerType:t,typeName:U.ZodNullable,...V(e)});class na extends Z{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===b.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}na.create=(t,e)=>new na({innerType:t,typeName:U.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...V(e)});class ra extends Z{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Hs(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new et(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new et(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ra.create=(t,e)=>new ra({innerType:t,typeName:U.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...V(e)});class Zi extends Z{_parse(e){if(this._getType(e)!==b.nan){const r=this._getOrReturnCtx(e);return T(r,{code:k.invalid_type,expected:b.nan,received:r.parsedType}),B}return{status:"valid",value:e.data}}}Zi.create=t=>new Zi({typeName:U.ZodNaN,...V(t)});const $w=Symbol("zod_brand");class Wc extends Z{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ya extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?B:a.status==="dirty"?(n.dirty(),xr(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?B:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new ya({in:e,out:n,typeName:U.ZodPipeline})}}class sa extends Z{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Qn(s)&&(s.value=Object.freeze(s.value)),s);return Hs(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}sa.create=(t,e)=>new sa({innerType:t,typeName:U.ZodReadonly,...V(e)});function If(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function dg(t,e={},n){return t?Ur.create().superRefine((r,s)=>{var a,i;const o=t(r);if(o instanceof Promise)return o.then(l=>{var u,f;if(!l){const c=If(e,r),h=(f=(u=c.fatal)!==null&&u!==void 0?u:n)!==null&&f!==void 0?f:!0;s.addIssue({code:"custom",...c,fatal:h})}});if(!o){const l=If(e,r),u=(i=(a=l.fatal)!==null&&a!==void 0?a:n)!==null&&i!==void 0?i:!0;s.addIssue({code:"custom",...l,fatal:u})}}):Ur.create()}const Lw={object:le.lazycreate};var U;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(U||(U={}));const Mw=(t,e={message:`Input not instance of ${t.name}`})=>dg(n=>n instanceof t,e),fg=wt.create,hg=Sn.create,Dw=Zi.create,Fw=kn.create,pg=Ks.create,jw=Gn.create,zw=Bi.create,Uw=Qs.create,Bw=Gs.create,Vw=Ur.create,Ww=Bn.create,Zw=qt.create,Hw=Vi.create,Kw=kt.create,Qw=le.create,Gw=le.strictCreate,Jw=Js.create,Xw=xo.create,qw=Xs.create,Yw=Ft.create,e0=qs.create,t0=Wi.create,n0=Jn.create,r0=Nr.create,s0=Ys.create,a0=ea.create,i0=En.create,o0=ta.create,l0=Br.create,Rf=Ct.create,u0=Mt.create,c0=Cn.create,d0=Ct.createWithPreprocess,f0=ya.create,h0=()=>fg().optional(),p0=()=>hg().optional(),m0=()=>pg().optional(),g0={string:t=>wt.create({...t,coerce:!0}),number:t=>Sn.create({...t,coerce:!0}),boolean:t=>Ks.create({...t,coerce:!0}),bigint:t=>kn.create({...t,coerce:!0}),date:t=>Gn.create({...t,coerce:!0})},y0=B;var ee=Object.freeze({__proto__:null,defaultErrorMap:zr,setErrorMap:dw,getErrorMap:ji,makeIssue:zi,EMPTY_PATH:fw,addIssueToContext:T,ParseStatus:Me,INVALID:B,DIRTY:xr,OK:je,isAborted:pu,isDirty:mu,isValid:Qn,isAsync:Hs,get util(){return J},get objectUtil(){return hu},ZodParsedType:b,getParsedType:Wt,ZodType:Z,datetimeRegex:ug,ZodString:wt,ZodNumber:Sn,ZodBigInt:kn,ZodBoolean:Ks,ZodDate:Gn,ZodSymbol:Bi,ZodUndefined:Qs,ZodNull:Gs,ZodAny:Ur,ZodUnknown:Bn,ZodNever:qt,ZodVoid:Vi,ZodArray:kt,ZodObject:le,ZodUnion:Js,ZodDiscriminatedUnion:xo,ZodIntersection:Xs,ZodTuple:Ft,ZodRecord:qs,ZodMap:Wi,ZodSet:Jn,ZodFunction:Nr,ZodLazy:Ys,ZodLiteral:ea,ZodEnum:En,ZodNativeEnum:ta,ZodPromise:Br,ZodEffects:Ct,ZodTransformer:Ct,ZodOptional:Mt,ZodNullable:Cn,ZodDefault:na,ZodCatch:ra,ZodNaN:Zi,BRAND:$w,ZodBranded:Wc,ZodPipeline:ya,ZodReadonly:sa,custom:dg,Schema:Z,ZodSchema:Z,late:Lw,get ZodFirstPartyTypeKind(){return U},coerce:g0,any:Vw,array:Kw,bigint:Fw,boolean:pg,date:jw,discriminatedUnion:Xw,effect:Rf,enum:i0,function:r0,instanceof:Mw,intersection:qw,lazy:s0,literal:a0,map:t0,nan:Dw,nativeEnum:o0,never:Zw,null:Bw,nullable:c0,number:hg,object:Qw,oboolean:m0,onumber:p0,optional:u0,ostring:h0,pipeline:f0,preprocess:d0,promise:l0,record:e0,set:n0,strictObject:Gw,string:fg,symbol:zw,transformer:Rf,tuple:Yw,undefined:Uw,union:Jw,unknown:Ww,void:Hw,NEVER:y0,ZodIssueCode:k,quotelessJson:cw,ZodError:et});const v0=ee.object({id:ee.string(),name:ee.string(),description:ee.string().optional(),type:ee.string().optional(),tags:ee.array(ee.string()).optional(),url:ee.string().optional()});ee.object({input:ee.string(),taskPlan:ee.string().optional(),selectedDatabases:ee.array(v0).optional(),databaseSelectionText:ee.string().optional(),datasetAccessMethods:ee.record(ee.string()).optional(),generatedCode:ee.string().optional(),errors:ee.string().optional(),debugLog:ee.array(ee.string()).optional(),inspectionResults:ee.string().optional(),response:ee.string().optional()});const _0=ee.object({response:ee.string(),code:ee.string().optional(),debugLog:ee.array(ee.string()).optional()}),w0=({onQuerySubmit:t})=>{const[e,n]=oe.useState([]),[r,s]=oe.useState(""),[a,i]=oe.useState(!1),[o,l]=oe.useState(null),[u,f]=oe.useState(null),[c,h]=oe.useState([]),[g,y]=oe.useState([]),[v,x]=oe.useState(null),m=oe.useRef(null);oe.useEffect(()=>{(async()=>{try{console.log("Initializing agent system...");const I=await rw();if(typeof I!="function")throw console.error("Agent system is not a function!",I),new Error("Agent system initialization failed: system is not a function");console.log("Agent system initialized successfully"),l(()=>I)}catch(I){console.error("Error initializing agent system:",I),f(I instanceof Error?I.message:"Unknown initialization error")}})();const R=I=>{I.data&&I.data.type==="AGENT_LOG"&&h(j=>[...j,I.data.log])};window.addEventListener("message",R);const P=localStorage.getItem("earthAgentCodeMemory");if(P)try{const I=JSON.parse(P);y(I)}catch(I){console.error("Failed to parse saved code memory:",I)}return()=>{window.removeEventListener("message",R)}},[]),oe.useEffect(()=>{g.length>0&&localStorage.setItem("earthAgentCodeMemory",JSON.stringify(g))},[g]),oe.useEffect(()=>{var w;(w=m.current)==null||w.scrollIntoView({behavior:"smooth"})},[e,c]);const d=w=>{const R=["debug","fix","error","issue","problem","not working","broken","fails","doesn't work","doesn't run","doesn't execute"],P=w.toLowerCase();return R.some(I=>P.includes(I))&&v!==null},p=w=>{const R=[/error:?\s*(.*?)(?:\.|$)/i,/exception:?\s*(.*?)(?:\.|$)/i,/failed:?\s*(.*?)(?:\.|$)/i,/problem:?\s*(.*?)(?:\.|$)/i,/issue:?\s*(.*?)(?:\.|$)/i];for(const P of R){const I=w.match(P);if(I&&I[1])return I[1].trim()}return w},_=async(w,R)=>{try{const P=p(w);if(h(F=>[...F,`Extracted error message: ${P}`]),h(F=>[...F,"Sending debug request directly to language model..."]),!await ca())throw new Error("No API key configured. Please set your API key in the settings.");const j=`I need you to debug this Google Earth Engine JavaScript code and fix any errors:

\`\`\`javascript
${R}
\`\`\`

The error is: ${P}

Please provide the corrected code and a brief explanation of what was wrong and how you fixed it. Format your response with a short explanation followed by the corrected code in a code block.`;h(F=>[...F,"Calling OpenAI API directly for debugging..."]);const te=await sg(j,"You are an expert in Google Earth Engine JavaScript programming who specializes in debugging code. Provide concise explanations and corrected code."),st=/```(?:javascript|js)?\s*([\s\S]*?)```/,at=te.match(st);let At=R,O=te;if(at&&at[1]){At=at[1].trim();const F=te.split(st);F.length>0&&(O=F[0].trim())}return h(F=>[...F,"Successfully received debugging help"]),{response:O,code:At,debugLog:["Debug request processed successfully"]}}catch(P){throw console.error("Error in direct debug request:",P),P}},A=async w=>{w.preventDefault();const R=r.trim();if(!R)return;h([]);const P={id:Date.now().toString(),role:"user",content:R};n(I=>[...I,P]),s(""),i(!0);try{if(t&&await t(),d(R)&&v)try{h(te=>[...te,"Debug request detected, using optimized debug path"]);const j=await _(R,v);j.code&&(x(j.code),y(te=>[{code:j.code||"",timestamp:Date.now(),description:"Fixed code",errorMessages:[p(R)]},...te.slice(0,9)]));const Q={id:(Date.now()+1).toString(),role:"assistant",content:j.response,code:j.code,debugLog:j.debugLog||c};n(te=>[...te,Q]),h([])}catch(j){console.error("Error in optimized debug path:",j);const Q={id:(Date.now()+1).toString(),role:"assistant",content:`I encountered an error while trying to debug the code: ${j instanceof Error?j.message:"Unknown error"}. Please try describing the error differently.`,debugLog:c};n(te=>[...te,Q])}else if(o){h(j=>[...j,"Using full agent system for request processing"]);try{console.log("Sending query to agent system:",R);const j=await o(R);console.log("Raw response from agent system:",j);try{const Q=_0.parse(j);Q.code&&(x(Q.code),y(st=>[{code:Q.code||"",timestamp:Date.now(),description:R.substring(0,100)},...st.slice(0,9)]));const te={id:(Date.now()+1).toString(),role:"assistant",content:Q.response,code:Q.code,debugLog:Q.debugLog||c};n(st=>[...st,te]),h([])}catch(Q){throw console.error("Zod validation error:",Q),new Error(`Response validation failed: ${Q instanceof ee.ZodError?Q.errors.map(te=>te.message).join(", "):"Unknown Zod error"}`)}}catch(j){E(j)}}else setTimeout(()=>{const j={id:(Date.now()+1).toString(),role:"assistant",content:"The Earth Agent system is still initializing. Please try again in a moment.",code:"// Agent system initializing"};n(Q=>[...Q,j]),i(!1)},1e3)}catch(I){console.error("Error processing message:",I);const j={id:(Date.now()+1).toString(),role:"assistant",content:"I encountered an error while processing your request. Please try again with a different query.",debugLog:c};n(Q=>[...Q,j]),h([])}finally{i(!1)}},E=w=>{if(w instanceof Error){const j=w.agent||"unknown",Q=w.phase||"unknown",te=w.details;console.error(`Error in agent system [${j}][${Q}]:`,w),console.error("Error details:",te),console.error("Error stack:",w.stack)}else console.error("Non-Error object thrown in agent system:",w);let R="Unknown error",P="";if(w instanceof Error){if(R=w.message,w.agent)P=`in ${w.agent} agent`;else if(w.phase)P=`during ${w.phase}`;else if(w.stack){const j=w.stack.split(`
`);for(const Q of j)if(Q.includes("/agents/")&&!Q.includes("/index.ts")){const te=Q.match(/\/agents\/([^\/\.]+)/);if(te&&te[1]){P=`in ${te[1]} agent`;break}}}}else w instanceof ee.ZodError&&(R=`Data validation error: ${w.errors.map(j=>j.message).join(", ")}`);const I={id:(Date.now()+1).toString(),role:"assistant",content:`I encountered an error ${P} while processing your request: ${R}. Please try again with a different query.`,debugLog:c};n(j=>[...j,I]),h([])},S=w=>{console.log("Running code in Earth Engine:",w);const R=document.getElementById("run-code-button"),P=document.getElementById("run-spinner");R&&(R.disabled=!0),P&&(P.style.display="block"),chrome.runtime.sendMessage({type:"OPEN_EARTH_ENGINE_AND_RUN_CODE",code:w},I=>{if(R&&(R.disabled=!1),P&&(P.style.display="none"),chrome.runtime.lastError){console.error("Error sending message to background:",chrome.runtime.lastError);const j=chrome.runtime.lastError.message||"Unknown error";alert(`Error: Could not run code in Earth Engine. ${j}`);return}I!=null&&I.success?(console.log("Code injection successful:",I.result),alert("Code successfully sent to Earth Engine and executed.")):(console.error("Error running code:",I==null?void 0:I.error),alert(`Error: ${(I==null?void 0:I.error)||"Could not run code in Earth Engine"}`))})};return N.jsxs("div",{className:"flex flex-col h-full w-full overflow-hidden",children:[N.jsxs("div",{className:"flex-1 overflow-auto w-full",children:[u&&N.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-100 mr-8 w-auto",children:[N.jsx("div",{className:"font-semibold mb-1 text-red-700",children:"Error Initializing Earth Agent"}),N.jsx("div",{className:"whitespace-pre-wrap break-words",children:u}),N.jsx("div",{className:"mt-2 text-sm text-gray-600",children:"Please check your API key configuration in the settings or try again later."})]}),!o&&!u&&N.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-blue-50 mr-8 w-auto",children:[N.jsx("div",{className:"font-semibold mb-1",children:"Earth Agent"}),N.jsx("div",{className:"flex items-center text-gray-600",children:N.jsx("div",{className:"animate-pulse mr-2",children:"Initializing Earth Agent system..."})})]}),e.map(w=>N.jsxs("div",{className:`mb-4 p-3 rounded-lg ${w.role==="user"?"bg-blue-100 ml-8":"bg-gray-100 mr-8"} w-auto overflow-hidden flex-shrink-0 flex-grow-0`,children:[N.jsx("div",{className:"font-semibold mb-1",children:w.role==="user"?"You":"Earth Agent"}),N.jsx("div",{className:"whitespace-pre-wrap break-words w-full",children:w.content}),w.code&&N.jsxs("div",{className:"mt-2 w-full overflow-hidden",children:[N.jsx("div",{className:"bg-gray-800 text-gray-200 p-3 rounded-md overflow-x-auto w-full",children:N.jsx("pre",{className:"whitespace-pre-wrap break-words w-full",children:N.jsx("code",{children:w.code})})}),N.jsx("div",{className:"flex items-center mt-2",children:N.jsxs("button",{id:"run-code-button",onClick:()=>S(w.code),className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center",children:[N.jsx("span",{className:"mr-1",children:"Run Code"}),N.jsx("div",{id:"run-spinner",className:"hidden animate-spin h-4 w-4",style:{display:"none"},children:N.jsxs("svg",{className:"w-4 h-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[N.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),N.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})})]}),w.debugLog&&w.debugLog.length>0&&N.jsx("div",{className:"mt-2 w-full",children:N.jsxs("details",{className:"bg-gray-100 p-2 rounded-md w-full",open:!0,children:[N.jsx("summary",{className:"font-medium text-gray-700 cursor-pointer",children:"Execution Log"}),N.jsx("div",{className:"mt-2 text-xs text-gray-600 bg-gray-50 p-2 rounded border border-gray-200 max-h-60 overflow-y-auto w-full",children:w.debugLog.map((R,P)=>N.jsx("div",{className:"py-1 border-b border-gray-100 last:border-0 break-words",children:R},P))})]})})]},w.id)),a&&c.length>0&&N.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-blue-50 mr-8 w-auto",children:[N.jsxs("div",{className:"font-semibold mb-1 flex items-center",children:[N.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2 animate-pulse"}),"Earth Agent is thinking..."]}),N.jsx("div",{className:"mt-2 text-xs text-gray-600 bg-white p-2 rounded border border-gray-200 max-h-60 overflow-y-auto w-full",children:c.map((w,R)=>N.jsx("div",{className:"py-1 border-b border-gray-100 last:border-0 break-words",children:w},R))})]}),a&&c.length===0&&N.jsx("div",{className:"flex justify-center items-center my-4",children:N.jsxs("div",{className:"animate-pulse text-gray-500 flex items-center",children:[N.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2 animate-pulse"}),"Earth Agent is thinking..."]})}),N.jsx("div",{ref:m})]}),N.jsx("div",{className:"mt-auto border-t pt-4",children:N.jsxs("form",{onSubmit:A,className:"flex w-full",children:[N.jsx("input",{type:"text",value:r,onChange:w=>s(w.target.value),placeholder:"Ask Earth Agent something...",className:"flex-1 border border-gray-300 rounded-l-md px-4 py-2 focus:outline-none focus:border-gray-400 focus:shadow-md transition-shadow duration-200 min-w-0",disabled:a}),N.jsx("button",{type:"submit",disabled:a||!r.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-r-md hover:bg-blue-700 transition-colors disabled:bg-gray-400 flex-shrink-0",children:"Send"})]})})]})},x0=({onApiKeySet:t})=>{const[e,n]=oe.useState(""),[r,s]=oe.useState(!1),[a,i]=oe.useState(null),[o,l]=oe.useState(null);oe.useEffect(()=>{(async()=>{try{if(await Bp())try{const g=await ca();if(g){const y="*".repeat(g.length-4)+g.slice(-4);n(y)}}catch(g){console.error("Error retrieving API key:",g),l("Error retrieving your API key. You may need to enter it again.")}}catch(h){console.error("Error checking API key status:",h),l("Error checking API key status. Please try refreshing the page.")}})()},[]);const u=c=>!c||c.trim()===""?(i("API key is required"),!1):c.includes("*")?(i("Please enter your full API key"),!1):!c.trim().startsWith("sk-")||c.trim().length<30?(i('Invalid API key format. OpenAI API keys should start with "sk-" and be at least 30 characters long.'),!1):!0,f=async c=>{c.preventDefault(),i(null);const h=e.trim();if(u(h))try{s(!0),await Vv(h),t()}catch(g){console.error("Error saving API key:",g),i("Failed to save API key: "+(g instanceof Error?g.message:"Unknown error"))}finally{s(!1)}};return N.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[N.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Key Configuration"}),N.jsx("p",{className:"mb-4 text-sm text-gray-700",children:"To use the Earth Agent, you need to provide your OpenAI API key. Your key will be stored securely in your browser's local storage."}),o&&N.jsx("div",{className:"mb-4 p-3 bg-yellow-100 text-yellow-800 rounded-md",children:N.jsx("p",{children:o})}),N.jsxs("form",{onSubmit:f,children:[N.jsxs("div",{className:"mb-4",children:[N.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700 mb-1",children:"OpenAI API Key"}),N.jsx("input",{id:"apiKey",type:"password",value:e,onChange:c=>{n(c.target.value),i(null)},placeholder:"Enter your OpenAI API key (sk-...)",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"}),a&&N.jsx("p",{className:"mt-1 text-sm text-red-600",children:a})]}),N.jsx("button",{type:"submit",disabled:r,className:`w-full py-2 px-4 rounded-md text-white font-medium 
            ${r?"bg-gray-400":"bg-green-600 hover:bg-green-700"}`,children:r?"Saving...":"Save API Key"})]}),N.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[N.jsxs("p",{children:["You can get an API key from the ",N.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",className:"text-blue-600 hover:underline",children:"OpenAI dashboard"}),"."]}),N.jsx("p",{className:"mt-1",children:"Your API key is only stored in your browser and is never sent to our servers."})]})]})},S0=()=>{const[t,e]=oe.useState(!1),[n,r]=oe.useState(!0);oe.useEffect(()=>{(async()=>{try{const i=await Bp();e(i)}catch(i){console.error("Error checking API key status:",i)}finally{r(!1)}})()},[]);const s=()=>{e(!0)};return N.jsxs("div",{className:"flex flex-col h-full w-full",children:[N.jsxs("header",{className:"p-4 border-b",children:[N.jsx("h1",{className:"text-xl font-bold mb-2",children:"Earth Agent"}),N.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered assistant for Google Earth Engine"})]}),N.jsx("main",{className:"flex-1 overflow-auto p-4 flex flex-col w-full",children:n?N.jsx("div",{className:"flex items-center justify-center h-full",children:N.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):t?N.jsx(w0,{}):N.jsx("div",{className:"flex-1 flex items-center justify-center w-full",children:N.jsx("div",{className:"w-full max-w-md",children:N.jsx(x0,{onApiKeySet:s})})})})]})};il.createRoot(document.getElementById("root")).render(N.jsx(Ng.StrictMode,{children:N.jsx(S0,{})}));console.log("Earth Agent sidepanel loaded");
